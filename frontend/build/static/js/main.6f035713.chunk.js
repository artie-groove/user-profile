(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t){},141:function(e,t,a){e.exports=a(230)},142:function(e,t,a){},158:function(e,t){},164:function(e,t){},165:function(e,t,a){},166:function(e,t,a){},175:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);a(142);var n=a(0),r=a.n(n),i=a(54),o=a.n(i),s=a(12),l=a(34),c=a(4),u=a(29),d=a(238),m=a(239),p=a(240),g=a(241),E=a(242),f=a(243),h=a(244),v=a(245),b=a(246),O=a(247),_=a(248),S=a(236),T=a(237),P=(a(165),function(e){var t=e.disabled,a=e.className,n=e.isPending,i=e.inProgressCaption,o=e.caption;return r.a.createElement(S.a,{type:"submit",disabled:t,size:"lg",color:"primary",className:"btn-submit "+a},n?r.a.createElement(r.a.Fragment,null,i,r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement(T.a,{size:"lg",color:"light",type:"grow"}))):o)}),M=a(253),y=(a(166),function(e){var t=e.title,a=e.errorMsg;return r.a.createElement(M.a,{color:"danger",className:"error-display"},r.a.createElement("h6",{className:"alert-heading"},t),r.a.createElement("p",{className:"mb-0"},a))}),N=a(55),w=a.n(N),L=(a(175),Object(c.c)({formTitle:{id:"components.LoginForm.formTitle",defaultMessage:"Log in"},formHint:{id:"components.LoginForm.formHint",defaultMessage:"Please, enter your user name and password to get access to your profile"},usernameLabel:{id:"components.LoginForm.usernameLabel",defaultMessage:"Username"},passwordLabel:{id:"components.LoginForm.passwordLabel",defaultMessage:"Password"},submitButtonCaption:{id:"components.LoginForm.submitButtonCaption",defaultMessage:"Log in"},submitButtonInProgressCaption:{id:"components.LoginForm.submitButtonInProgressCaption",defaultMessage:"Sending"},authErrorTitle:{id:"components.LoginForm.authErrorTitle",defaultMessage:"Authentication error"},msgNoAccountQuestion:{id:"components.LoginForm.msgNoAccountQuestion",defaultMessage:"No account?"},signupLinkCaption:{id:"components.LoginForm.signupLinkCaption",defaultMessage:"Register"}})),A=Object(c.d)(function(e){var t=e.intl.formatMessage,a=e.isPending,n=(e.isAuthenticated,e.externalError),i=e.onSubmit,o=e.onChange;return r.a.createElement("div",{id:"LoginForm"},r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,{className:"align-items-center"},r.a.createElement(p.a,{className:"mx-auto"},r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(L.formTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0"},t(L.formHint)),r.a.createElement(h.a,{onSubmit:i},r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:"username"},t(L.usernameLabel)),r.a.createElement(O.a,{type:"text",name:"username",id:"username",onChange:o,defaultValue:"linus-torvalds"})),r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:"password"},t(L.passwordLabel)),r.a.createElement(O.a,{type:"password",name:"password",id:"password",onChange:o,defaultValue:"linus-torvalds"})),r.a.createElement(P,{caption:t(L.submitButtonCaption),inProgressCaption:t(L.submitButtonInProgressCaption),disabled:a,isPending:a,className:"d-block w-100 mt-4"}),n?r.a.createElement(y,{title:t(L.authErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3"},t(L.msgNoAccountQuestion)," ",r.a.createElement(l.b,{to:"/signup/"},t(L.signupLinkCaption))))))))))}),F="AUTH_REQUEST",I="AUTH_RESPONSE",R="AUTH_FAILURE",C="AUTH_LOGOUT",j="AUTH_RESET",x=function(e){return{type:I,token:e}},D=function(){return{type:C}},k=a(83),H=Object(s.b)(function(e){return{isPending:e.auth.isPending,isAuthenticated:e.auth.isAuthenticated,externalError:e.auth.externalError}},function(e){return{onSubmit:function(t){t.preventDefault();var a=t.target,n={username:a.elements.username.value,password:Object(k.sha256)(a.elements.password.value)};e({type:F,data:n})}}})(A),V=(a(178),a(1)),B=a.n(V),U="VALUE_CHANGED",Y="FIELD_EDITED",G=function(e,t,a){return{type:U,fieldName:e,value:t,validityStatus:a}},W=function(e){return{type:Y,fieldName:e}};function z(e){return{onChange:function(t,a){return G(e,t,a)},onBlur:function(){return W(e)}}}var q=a(249),$=function(e){var t=e.fieldName,a=e.value,n=e.label,i=e.inputType,o=e.isInvalid,s=e.errorMsg,l=e.isDisabled,c=e.isValid,u=e.validMsg,d=e.children,m=e.InputComponent,p=e.onChange,g=e.onBlur;return r.a.createElement(v.a,null,r.a.createElement(m,{type:i,name:t,id:t,label:n,value:a,valid:c,invalid:o,disabled:l,onChange:p,onBlur:g},r.a.createElement(q.a,{valid:!0},u),r.a.createElement(q.a,{valid:!1},r.a.createElement("div",null,s)),d))};$.propTypes={fieldName:B.a.string.isRequired,label:B.a.string.isRequired,inputType:B.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]),isInvalid:B.a.bool,error:B.a.string,isValid:B.a.bool,validMsg:B.a.string,onChange:B.a.func,onBlur:B.a.func};var Q=$,Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!(!e||e===te)&&(!!t||!a.some(function(t){return t===e}))}(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])?e.formatMessage(a[t]):""};function J(e){var t=function(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++)a[t[n]]=t[n];return a}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return function(a){var n=e(a,t);return!0===n?te:n}}var K=a(250),X=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,o=e.valid,s=e.invalid,l=e.disabled,c=e.onChange,u=e.onBlur,d=e.children;return r.a.createElement("div",null,r.a.createElement(b.a,{htmlFor:a},n),r.a.createElement(O.a,{type:t,name:a,id:a,value:i,valid:o,invalid:s,disabled:l,onChange:c,onBlur:u}),d)},ee=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,o=e.valid,s=e.invalid,l=e.disabled,c=e.onChange,u=e.children;return r.a.createElement(K.a,{type:t,name:a,id:a,label:n,checked:i,valid:o,invalid:s,disabled:l,onChange:c},u)},te="PROPER_VALUE",ae=function(e){var t,a=e.fieldName,n=e.inputType,i=e.errorStrings,o=e.inProgressFilter,l=e.validMsg,u=e.validate,d=void 0===u?function(){return!0}:u,m=z(a),p=m.onChange,g=m.onBlur,E=J(d,i),f=Object(s.b)(function(e,t){var n=e.signup.data[a],r=n.validityStatus,s=n.isTypingFinished,l=n.value,c=t.errorMsg?t.errorMsg:Z(t.intl,r,i,s,o);return{isInvalid:!!c,errorMsg:c,value:l}},function(e){return{onChange:function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=E(n);e(p(n,r))},onBlur:function(){return e(g())}}})(Q);switch(f.propTypes={fieldName:B.a.string.isRequired,inputType:B.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]).isRequired},n){case"checkbox":case"switch":t=ee;break;default:t=X}return Object(c.d)(function(e){e.isDisabled;var i=e.isInvalid,o=void 0!==i&&i,s=e.isValid,c=void 0!==s&&s,u=e.errorMsg,d=e.children,m=e.label,p=e.intl,g=l?p.formatMessage(l):null;return r.a.createElement(f,{fieldName:a,inputType:n,label:m,isInvalid:o,errorMsg:u,isValid:c,validMsg:g,InputComponent:t,intl:p},d)})},ne=function(e){var t=e.isInvalid,a=e.isPending,n=e.isApproved,i=e.label,o=e.errorMsg,s=e.InputComponent;return r.a.createElement(s,{isDisabled:a,isInvalid:t,isValid:n,errorMsg:o,label:i},a?r.a.createElement(T.a,{size:"sm",color:"primary"}):null)};ne.propTypes={isInvalid:B.a.bool,isPending:B.a.bool,isValid:B.a.oneOfType([B.a.bool,B.a.instanceOf("undefined")]),errorMsg:B.a.string};var re=ne,ie=function(e){var t=e.fieldName,a=e.inputType,n=e.approvedMsg,i=e.rejectedMsg,o=(e.children,e.externalError,e.errorStrings),l=e.inProgressFilter,u=e.validate,d=Object(s.b)(function(e,a){var n=e.signup.data[t]||{},r=n.externalError,o=n.isTypingFinished,s=n.isPending,l=n.isApproved,c="";return r?c=r:o&&!1===l&&(c=a.intl.formatMessage(i)),{isInvalid:!!c,errorMsg:c,isPending:s,isApproved:l&&o}})(re);d=Object(c.d)(d);var m=ae({fieldName:t,inputType:a,validMsg:n,validate:u,errorStrings:o,inProgressFilter:l});return function(e){var t=e.label;return r.a.createElement(d,{InputComponent:m,label:t})}};var oe="E_EMPTY",se="E_LAST_SYMBOL",le="E_TOO_SHORT",ce=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Username.E_EMPTY",defaultMessage:"This field is required. Please, come up with a username"},E_FIRST_LETTER:{id:"components.SignupForm.Username.E_FIRST_LETTER",defaultMessage:"Username should begin with a lowercase latin character"},E_LAST_SYMBOL:{id:"components.SignupForm.Username.E_LAST_SYMBOL",defaultMessage:"Name should end in a letter or a digit"},E_INVALID_FORMAT:{id:"components.SignupForm.Username.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_SHORT:{id:"components.SignupForm.Username.E_TOO_SHORT",defaultMessage:"Name should be at least 5 characters long"},E_TOO_LONG:{id:"components.SignupForm.Username.E_TOO_LONG",defaultMessage:"Name shouldn't be longer than 30 characters"}}),ue=Object(c.c)({rejected:{id:"components.SignupForm.Username.rejected",defaultMessage:"Unfortunately, this name has already been taken. Please, come up with another one"},approved:{id:"components.SignupForm.Username.approved",defaultMessage:"Great, this is a suitable name!"}}),de=ie({fieldName:"username",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>30)return t.E_TOO_LONG;var a=/^[a-z]$/.test(e.charAt(0));return a?(a=/^[-a-z0-9]+$/.test(e))?e.length<5?t.E_TOO_SHORT:!!(a=/^[a-z0-9]$/.test(e.charAt(e.length-1)))||t.E_LAST_SYMBOL:t.E_INVALID_FORMAT:t.E_FIRST_LETTER},resultStrings:ue,errorStrings:ce,inProgressFilter:[oe,le,se],rejectedMsg:ue.rejected,approvedMsg:ue.approved});var me="E_EMPTY",pe="E_INSUFFICIENT",ge="E_TOO_SHORT",Ee=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Password.E_EMPTY",defaultMessage:"This is a requried field. Please, enter a password"},E_INVALID_FORMAT:{id:"components.SignupForm.Password.E_INVALID_FORMAT",defaultMessage:"The password contains illegal symbols. Please, adhere to the specified format"},E_INSUFFICIENT:{id:"components.SignupForm.Password.E_INSUFFICIENT",defaultMessage:"Please, use at least 2 symbol groups: letters, digits or special characters"},E_TOO_SHORT:{id:"components.SignupForm.Password.E_TOO_SHORT",defaultMessage:"Password should be at least 8 symbols long"},E_TOO_LONG:{id:"components.SignupForm.Password.E_TOO_LONG",defaultMessage:"Password should be less that 128 symbols long. Please, use a shorter password"}}),fe=ae({fieldName:"password",inputType:"password",validate:function(e,t){if(0===e.length)return t.E_EMPTY;if(e.length>128)return t.E_TOO_LONG;var a="(?:".concat("[a-zA-Z]","?").concat("[0-9]","?").concat("","?)+");return new RegExp(a),/^(?:[a-zA-Z]|[0-9]|[-_,.'><=+&%$#@!* )(~\]\/\\{}])+$/.test(e)?/[a-zA-Z]/.test(e)+/[0-9]/.test(e)+/[-_,.'><=+&%$#@!* )(~\]\/\\{}]/.test(e)<2?t.E_INSUFFICIENT:!(e.length<8)||t.E_TOO_SHORT:t.E_INVALID_FORMAT},errorStrings:Ee,inProgressFilter:[me,ge,pe]});var he="E_EMPTY",ve="E_PASSWORD_NOT_VALID",be="E_PASSWORDS_MISMATCH",Oe=Object(c.c)({E_EMPTY:{id:"components.SignupForm.PasswordConfirmation.E_EMPTY",defaultMessage:"This field is required. Please, confirm the above entered password"},E_PASSWORDS_MISMATCH:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORDS_MISMATCH",defaultMessage:"Passwords don't match"},E_PASSWORD_NOT_VALID:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORD_NOT_VALID",defaultMessage:"Please, make sure both passwords follow the specified format"}}),_e=Object(c.c)({valid:{id:"components.SignupForm.PasswordConfirmation.valid",defaultMessage:"Passwords match"}}),Se=ae({fieldName:"passwordConfirmation",inputType:"password",validMsg:_e.valid,validate:function(e,t){return 0!==e.length||t.E_EMPTY},errorStrings:Oe,inProgressFilter:[he]}),Te=Object(s.b)(function(e,t){var a=e.signup.data.passwordConfirmation,n=a.isValid,r=a.isTypingFinished;return{isValid:n&&r}})(Se);var Pe="E_EMPTY",Me="E_INVALID_FORMAT",ye=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Email.E_EMPTY",defaultMessage:"This field is required. Please, enter your email"},E_TOO_LONG:{id:"components.SignupForm.Email.E_TOO_LONG",defaultMessage:"We don't accept emails longer than 128 symbols. PLease, use a shorter address"},E_INVALID_FORMAT:{id:"components.SignupForm.Email.E_INVALID_FORMAT",defaultMessage:"Email doesn't comply with the format. Please, make sure you typed the address correctly"}}),Ne=Object(c.c)({rejected:{id:"components.SignupForm.Email.rejected",defaultMessage:"The address has already been taken by somebody. Please, use another one"},approved:{id:"components.SignupForm.Email.approved",defaultMessage:"This email address is fine!"}}),we=ie({fieldName:"email",inputType:"email",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?t.E_EMPTY:e.length>128?t.E_TOO_LONG:!!/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)||t.E_INVALID_FORMAT},errorStrings:ye,inProgressFilter:[Pe,Me],rejectedMsg:Ne.rejected,approvedMsg:Ne.approved});var Le="E_EMPTY",Ae="E_INVALID_FORMAT",Fe="E_TOO_SHORT",Ie=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Phone.E_EMPTY",defaultMessage:"This field is required. Please, enter your phone number"},E_FIRST_SYMBOL:{id:"components.SignupForm.Phone.E_FIRST_SYMBOL",defaultMessage:"The first character should be a plus symbol (+)"},E_TOO_SHORT:{id:"components.SignupForm.Phone.E_TOO_SHORT",defaultMessage:"Phone number should be more than 10 characters long. Please, make sure you entered it correctly"},E_TOO_LONG:{id:"components.SignupForm.Phone.E_TOO_LONG",defaultMessage:"The phone number is too long. Please, use a shorter number"},E_INVALID_CHARS:{id:"components.SignupForm.Phone.E_INVALID_CHARS",defaultMessage:"Phone number can only contain digits, spaces or hyphens and a plus sign. Please, check for typos"},E_INVALID_FORMAT:{id:"components.SignupForm.Phone.E_INVALID_FORMAT",defaultMessage:"The phone number doesn't comply with the format. Please, check if you typed it correctly"}}),Re=Object(c.c)({rejected:{id:"components.SignupForm.Phone.rejected",defaultMessage:"This phone number has already been in use. Please, choose another one"},approved:{id:"components.SignupForm.Phone.approved",defaultMessage:"This phone number will work!"}}),Ce=ie({fieldName:"phone",inputType:"tel",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>20)return t.E_TOO_LONG;var a=/^\+/.test(e.charAt(0));return a?(a=/^[-+ 0-9]+$/.test(e))?(a=/^\+[0-9]{1,3}(?:(?:[- ][0-9]{2,4}){3,4}|[- ]?[0-9]{5,10})$/.test(e))?!(e.length<10)||t.E_TOO_SHORT:t.E_INVALID_FORMAT:t.E_INVALID_CHARS:t.E_FIRST_SYMBOL},errorStrings:Ie,inProgressFilter:[Le,Fe,Ae],rejectedMsg:Re.rejected,approvedMsg:Re.approved});var je="E_EMPTY",xe="E_TOO_OLD",De="E_TOO_EARLY",ke="E_INVALID_FORMAT",He=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Birthdate.E_EMPTY",defaultMessage:"This field is required. Please, enter your date of birth"},E_TOO_OLD:{id:"components.SignupForm.Birthdate.E_TOO_OLD",defaultMessage:"We accept that a human can live longer than 150 years. If that's your case, please contact us via phone or email. We will consider your application in exceptional order"},E_TOO_EARLY:{id:"components.SignupForm.Birthdate.E_TOO_EARLY",defaultMessage:"Only dates from the past are accepted"},E_INVALID_FORMAT:{id:"components.SignupForm.Birthdate.E_INVALID_FORMAT",defaultMessage:"Wrong data format. Please, make sure you enter the date in YYYY-MM-DD format"}}),Ve=ae({fieldName:"birthdate",inputType:"date",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(!/^[0-9]{4}-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])$/.test(e))return t.E_INVALID_FORMAT;var a=Date.parse(e);if(isNaN(a))return t.E_INVALID_FORMAT;var n=Date.now();return a>n?t.E_TOO_EARLY:!(n-a>47304e8)||t.E_TOO_OLD},errorStrings:He,inProgressFilter:[je,xe,De,ke]}),Be=ae({fieldName:"newsletters",inputType:"switch"});var Ue=Object(c.c)({E_TOO_LONG:{id:"components.SignupForm.Biography.E_TOO_LONG",defaultMessage:"Please, shorten your biography to 4000 symbols"}}),Ye=ae({fieldName:"biography",inputType:"textarea",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(e&&e.length>4e3)||t.E_TOO_LONG},errorStrings:Ue});var Ge=Object(c.c)({E_IMPOSED:{id:"components.SignupForm.PersonalInformationProcessing.E_IMPOSED",defaultMessage:"Consent to personal information processing is required to sign up to our serivce"}}),We=ae({fieldName:"personal-information-processing",inputType:"checkbox",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e||t.E_IMPOSED},errorStrings:Ge}),ze=(a(179),function(e){var t=e.fieldName,a=e.fileName,n=e.label,i=e.invalid,o=e.errorMsg,s=e.isDisabled,l=e.valid,c=e.validMsg,u=e.children,d=e.onChange;return r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:t},n),r.a.createElement(K.a,{type:"file",name:t,id:t,label:a,valid:l,invalid:i,disabled:s,onChange:d}),r.a.createElement(O.a,{type:"hidden",valid:l,invalid:i}),r.a.createElement(q.a,{valid:!0},c),r.a.createElement(q.a,{valid:!1},r.a.createElement("div",null,o)),u)}),qe=Object(c.c)({E_NOT_SELECTED:{id:"components.SignupForm.Photo.E_NOT_SELECTED",defaultMessage:"Please, choose a photo for your profile"},E_WRONG_EXTENTION:{id:"components.SignupForm.Photo.E_WRONG_EXTENTION",defaultMessage:"We only support files of JPG and PNG formats"},E_TOO_BIG:{id:"components.SignupForm.Photo.E_TOO_BIG",defaultMessage:"File size shouldn't exceed 5 MB"}}),$e=function(e){e.fieldName,e.fieldLabel;var t=e.isInvalid,a=e.errorMsg,n=e.isDisabled,i=e.isValid,o=e.validMsg,s=e.fileName,l=e.label,c=e.onChange;return r.a.createElement(ze,{fieldName:"photo",label:l,fileName:s,invalid:t,errorMsg:a,isDisabled:n,valid:i,validMsg:o,onChange:c})};var Qe=Object(c.c)({photoPickerButtonCaption:{id:"components.SignupForm.Photo.photoPickerButtonCaption",defaultMessage:"Pick a photo"}}),Ze=J(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t.E_NOT_SELECTED;var a=e.name.split(".").pop().toLowerCase();return["jpg","png"].some(function(e){return e===a})?!(e.size>5242880)||t.E_TOO_BIG:t.E_WRONG_EXTENTION},qe),Je=Object(s.b)(function(e,t){var a=e.signup.data.photo,n=a.validityStatus,r=a.value.name||t.intl.formatMessage(Qe.photoPickerButtonCaption),i=t.errorMsg?t.errorMsg:Z(t.intl,n,qe);return{isInvalid:!!i,errorMsg:i,fileName:r}},function(e){return{onChange:function(t){var a=t.target.files[0];if(!a)return!1;var n=Ze(a);e(G("photo",a,n))}}})($e),Ke=Object(c.d)(Je);var Xe=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Firstname.E_EMPTY",defaultMessage:"This field is required. Please, enter your name"},E_FIRST_LETTER:{id:"components.SignupForm.Firstname.E_FIRST_LETTER",defaultMessage:"Name should begin with a captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Firstname.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_LONG:{id:"components.SignupForm.Firstname.E_TOO_LONG",defaultMessage:"Name shouldn't exceed 40 characters"}}),et=ae({fieldName:"firstname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>40)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?!!(a=/^.[a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_FIRST_LETTER},errorStrings:Xe,inProgressFilter:["E_EMPTY"]});var tt="E_EMPTY",at="E_LAST_SYMBOL",nt="E_WRONG_ENDING",rt=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Lastname.E_EMPTY",defaultMessage:"This field is required. Please, enter your family name"},E_FIRST_LETTER:{id:"components.SignupForm.Lastname.E_FIRST_LETTER",defaultMessage:"Family name should start with captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Lastname.E_INVALID_FORMAT",defaultMessage:"The family name doesn't follow the format. Please, use only letters and a hyphen"},E_TOO_LONG:{id:"components.SignupForm.Lastname.E_TOO_LONG",defaultMessage:"Family name shouldn't exceed 50 characters"},E_LAST_SYMBOL:{id:"components.SignupForm.Lastname.E_LAST_SYMBOL",defaultMessage:"Family name should end in lowercase letter"},E_WRONG_ENDING:{id:"components.SignupForm.Lastname.E_WRONG_ENDING",defaultMessage:"Minimum 2 letters after a hyphen"}}),it=ae({fieldName:"lastname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>50)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?(a=/^[a-z\u0430-\u044f\u0451]$/.test(e.charAt(e.length-1)))?(a=/-[a-z\u0430-\u044f\u0451]$/.test(e))?t.E_WRONG_ENDING:!!(a=/^[A-Z\u0410-\u042f\u0401][-a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_LAST_SYMBOL:t.E_FIRST_LETTER},errorStrings:rt,inProgressFilter:[tt,at,nt]}),ot=function(e){return e.every(function(e){return!1!==e.isApproved})},st=function(e){var t,a=e.signup.data;return[(t=Object.values(a),t.every(function(e){return e.validityStatus===te})),ot(Object.values(a)),a.password.value===a.passwordConfirmation.value].every(function(e){return e})},lt=Object(s.b)(function(e){return{disabled:!st(e)||e.signup.status.isPending,isPending:e.signup.status.isPending}})(P),ct=a(10),ut=a.n(ct),dt=a(15),mt=(a(181),function(e){var t=e.onClick,a=e.caption;return r.a.createElement("div",{id:"FormDemo"},r.a.createElement("a",{onClick:t},a),r.a.createElement("div",{className:"arrow-wrapper"},r.a.createElement("div",{className:"arrow"},r.a.createElement("div",{className:"pointer"}))))}),pt=a(11),gt=a(60),Et=a.n(gt);function ft(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}var ht=Object(c.c)({serverConnectionError:{id:"serverConnectionError",defaultMessage:"Couldn't connect to server: \"{errorMsg}\". Please, try again later. If you can't submit the form, please contact us. We bring our apologies for the inconvenience."},somethingWentWrong:{id:"somethingWentWrong",defaultMessage:"Something went wrong. Probably, due to a server fault or connection problems. Please, try again later. If you can't submit the form, please contact us. We bring our apologies for the inconvenience"}});function vt(e,t){var a;if(e.response){console.log(t);var n=e.response.data.details||t.formatMessage(ht.somethingWentWrong);a="".concat(n,". ").concat(e.response.status," ").concat(e.response.statusText)}else a=e.request?t.formatMessage(ht.serverConnectionError,{errorMsg:e.message}):e.message;return a}function bt(e){var t=localStorage.getItem("locale");if(!t)return null;var a=JSON.parse(t),n=a.locale,r=a.messages;return n!==e?null:r}function Ot(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(dt.a)(ut.a.mark(function e(t,a){var n;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=ut.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.next=5,xt(n,t[n],a);case 5:return e.next=7,ft(a*yt);case 7:e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var St=new Event("input",{bubbles:!0}),Tt=new Event("blur",{bubbles:!0}),Pt=new Event("focus",{bubbles:!1}),Mt=2,yt=10;function Nt(e,t){e.value=t}function wt(e,t,a){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(dt.a)(ut.a.mark(function e(t,a,n){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",It(Nt,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function At(e,t,a){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(dt.a)(ut.a.mark(function e(t,a,n){return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",It(kt,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(e,t,a,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(dt.a)(ut.a.mark(function e(t,a,n,r){var i;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<n.length)){e.next=9;break}return t(a,n.slice(0,i+1)),a.dispatchEvent(St),e.next=6,ft(r);case 6:i++,e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(e){e.click()}function jt(e,t){kt(e,t),e.dispatchEvent(St)}function xt(e,t,a){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(dt.a)(ut.a.mark(function e(t,a,n){var r,i;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=document.getElementById(t),i=null,e.t0=a.type,e.next="click"===e.t0?5:"instant"===e.t0?8:"textarea"===e.t0?11:14;break;case 5:return i=Ct,a=null,e.abrupt("break",15);case 8:return i=jt,a=a.value,e.abrupt("break",15);case 11:return i=wt,a=a.value,e.abrupt("break",15);case 14:i=At;case 15:return r.dispatchEvent(Pt),r.focus(),e.next=19,ft(1e3);case 19:return e.next=21,i(r,a,n);case 21:return e.next=23,ft(n*Mt);case 23:r.dispatchEvent(Tt);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kt(e,t){var a=Object.getOwnPropertyDescriptor(e,"value").set,n=Object.getPrototypeOf(e),r=Object.getOwnPropertyDescriptor(n,"value").set;a&&a!==r?r.call(e,t):a.call(e,t)}var Ht=function(e){var t=e.caption,a=function(){var e=Object(dt.a)(ut.a.mark(function e(){var t;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={firstname:"Linus",lastname:"Torvalds",username:"linus-torvalds",password:"linus-torvalds",passwordConfirmation:"linus-torvalds",email:"torvalds@linux.org",newsletters:{type:"click"},phone:"+1 702-355-88-92",birthdate:{type:"instant",value:"1969-12-28"},biography:{type:"textarea",value:"That's interesting, how did you manage to make it do that?"}},e.next=4,Ot(t,100);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(mt,{onClick:a,caption:t})},Vt=Object(c.c)({signupFormTitle:{id:"components.SignupForm.signupFormTitle",defaultMessage:"Sign Up"},signupFormHint:{id:"components.SignupForm.signupFormHint",defaultMessage:"You need to provide some personal information. Please, fill in the form below"},firstNameLabel:{id:"components.SignupForm.firstNameLabel",defaultMessage:"Given name"},lastNameLabel:{id:"components.SignupForm.lastNameLabel",defaultMessage:"Family name"},userIdLabel:{id:"components.SignupForm.userIdLabel",defaultMessage:"Username"},userIdHint:{id:"components.SignupForm.userIdHint",defaultMessage:"User identifier. Has to be composed of lowercase latin letters and/or digits. \u041dyphen is allowed. Should start with a letter and end with a letter or a digit. Minimim - 5 symbols. For example, 'giant-66'"},passwordLabel:{id:"components.SignupForm.passwordLabel",defaultMessage:"Password"},passwordHint:{id:"components.SignupForm.passwordHint",defaultMessage:"Only latin letters, digits and special characters (for example, :, ', >, <, =, +, ., &, %, $, #, @, !, *, ), (, -, ~, [, ], /, \\\\, \\{, \\}, _, ^). Minimum 8 characters. At least two character types should be used"},passwordConfirmationLabel:{id:"components.SignupForm.passwordConfirmationLabel",defaultMessage:"Password confirmation"},passwordConfirmationHint:{id:"components.SignupForm.passwordConfirmationHint",defaultMessage:"Please, confirm the above entered password"},emailLabel:{id:"components.SignupForm.emailLabel",defaultMessage:"Email"},emailHint:{id:"components.SignupForm.emailHint",defaultMessage:"We use the email for password restoration and critical notifications. No unnecessary newsletters"},newslettersLabel:{id:"components.SignupForm.newslettersLabel",defaultMessage:"Newsletters"},newslettersHint:{id:"components.SignupForm.newslettersHint",defaultMessage:"Switch on if you want to keep up with us"},phoneLabel:{id:"components.SignupForm.phoneLabel",defaultMessage:"Phone number"},phoneHint:{id:"components.SignupForm.phoneHint",defaultMessage:"Phone number in the following format: <country code> <number>, for example, +7 926-840-55-49. Minimum 5 characters"},birthdateLabel:{id:"components.SignupForm.birthdateLabel",defaultMessage:"Birthdate"},birthdateHint:{id:"components.SignupForm.birthdateHint",defaultMessage:"Please, choose the date from the popup calendar"},biographyLabel:{id:"components.SignupForm.biographyLabel",defaultMessage:"Short biography"},photoLabel:{id:"components.SignupForm.photoLabel",defaultMessage:"Photo"},photoHint:{id:"components.SignupForm.photoHint",defaultMessage:"PNG and JPEG files only. Maximum size - 5 MB"},personalInformationProcessingLabel:{id:"components.SignupForm.personalInformationProcessingLabel",defaultMessage:"I give my consent to process my personal data"},personalInformationProcessingHint:{id:"components.SignupForm.personalInformationProcessingHint",defaultMessage:"According to Russia's federal law from 27/07/2006 number 152-FZ 'On personal data'"},submitButtonCaption:{id:"components.SignupForm.submitButtonCaption",defaultMessage:"Sign up"},submitButtonInProgressCaption:{id:"components.SignupForm.submitButtonInProgressCaption",defaultMessage:"Sending"},signupErrorTitle:{id:"components.SignupForm.signupErrorTitle",defaultMessage:"Sign up error"},alreadySignedUp:{id:"components.SignupForm.alreadySignedUp",defaultMessage:"Already signed up?"},loginLinkCaption:{id:"components.SignupForm.loginLinkCaption",defaultMessage:"Log in"},signupSuccessTitle:{id:"components.SignupForm.signupSuccessTitle",defaultMessage:"Signed up successfully!"},signupSuccessMessage:{id:"components.SignupForm.signupSuccessMessage",defaultMessage:"You're registered. Please, log in to your account"},btnDemoCaption:{id:"components.SignupForm.btnDemoCaption",defaultMessage:"Demo"}}),Bt=function(e){var t=e.intl.formatMessage,a=e.onSubmit,n=(e.isPending,e.externalError),i=e.isRegistered,o=e.steps;return r.a.createElement("div",{id:"SignupForm"},r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{className:"mx-auto"},i?r.a.createElement(m.a,null,r.a.createElement(p.a,{md:8,lg:6,xl:5,className:"mx-auto"},r.a.createElement(M.a,{color:"primary",className:"p-5"},r.a.createElement("h4",{className:"alert-heading"},t(Vt.signupSuccessTitle)),r.a.createElement("p",null,t(Vt.signupSuccessMessage)),r.a.createElement(l.b,{to:"/",className:"btn btn-lg btn-primary w-100"},t(Vt.loginLinkCaption),"\t\t\t\t\t\t")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{caption:t(Vt.btnDemoCaption)}),r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(Vt.signupFormTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0 mb-5"},t(Vt.signupFormHint)),r.a.createElement(h.a,{onSubmit:a},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,className:"mb-5 mb-md-0"},r.a.createElement(et,{label:t(Vt.firstNameLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement(it,{label:t(Vt.lastNameLabel)}))),r.a.createElement("div",{className:"step "+o[0]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(de,{label:t(Vt.userIdLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.userIdHint)))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(fe,{label:t(Vt.passwordLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.passwordHint))))),r.a.createElement("div",{className:"step "+o[1]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Te,{label:t(Vt.passwordConfirmationLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.passwordConfirmationHint))))),r.a.createElement("div",{className:"step "+o[2]},r.a.createElement(m.a,{id:"field-email"},r.a.createElement(p.a,{md:6},r.a.createElement(we,{label:t(Vt.emailLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.emailHint)))),r.a.createElement(m.a,{id:"field-newsletters"},r.a.createElement(p.a,{md:6},r.a.createElement(Be,{label:t(Vt.newslettersLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.newslettersHint)," ")))),r.a.createElement("div",{className:"step "+o[3]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ce,{label:t(Vt.phoneLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.phoneHint))))),r.a.createElement("div",{className:"step "+o[4]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ve,{label:t(Vt.birthdateLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.birthdateHint))))),r.a.createElement("div",{className:"step "+o[5]},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(Ye,{label:t(Vt.biographyLabel)})))),r.a.createElement("div",{className:"step "+o[6]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ke,{label:t(Vt.photoLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.photoHint)," "))),r.a.createElement(m.a,{id:"field-personal-information-processing"},r.a.createElement(p.a,{md:6},r.a.createElement(We,{label:t(Vt.personalInformationProcessingLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.personalInformationProcessingHint)))),r.a.createElement("div",{id:"SubmitButton"},r.a.createElement(lt,{isPending:!0,caption:t(Vt.submitButtonCaption),inProgressCaption:t(Vt.submitButtonInProgressCaption),className:"d-block w-100"}))),r.a.createElement("div",{className:"step "+o.showProceedButton},r.a.createElement("a",{className:"proceedBtn"},"\u2193")),n?r.a.createElement(y,{title:t(Vt.signupErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3 float-right"},t(Vt.alreadySignedUp)," ",r.a.createElement(l.b,{to:"/login/"},t(Vt.loginLinkCaption)))))))))))};Bt.propTypes={intl:c.e.isRequired};var Ut=Object(c.d)(Bt),Yt="FORM_SUBMIT",Gt="FORM_SUBMIT_RESPONSE",Wt="FORM_SUBMIT_FAILURE",zt="FORM_RESET";function qt(e){for(var t=[],a=0;a<e.status.step;a++)t.push("revealed");var n=e.data[e.status.currentAwaitingKeyField],r="PROPER_VALUE"===n.validityStatus,i=!0===!n.isPending,o=!n.isTypingFinished;return t.showProceedButton=r&&i&&o?"revealed":"",t}var $t=Object(s.b)(function(e){return{isPending:e.signup.status.isPending,isRegistered:e.signup.status.isRegistered,externalError:e.signup.status.externalError,steps:qt(e.signup)}},function(e){return{onSubmit:function(t){t.preventDefault(),e({type:Yt})}}})(Ut),Qt=(a(182),function(e){var t=e.caption;return r.a.createElement("div",{id:"FullscreenSpinner"},r.a.createElement(T.a,{size:"lg",color:"primary",type:"grow"}),r.a.createElement("div",{className:"caption w-100 text-center text-primary"},t))}),Zt=(a(183),function(e){var t=e.onLogout,a=e.caption;return r.a.createElement("div",{id:"LogoutButton"},r.a.createElement(S.a,{onClick:t},a))}),Jt=Object(s.b)(null,function(e){return{onLogout:function(){return e(D())}}})(Zt),Kt=(a(184),Object(c.c)({dataLoadingSpinnerMsg:{id:"components.Dashboard.dataLoadingSpinnerMsg",defaultMessage:"Loading data..."},dataLoadingErrorTitle:{id:"components.Dashboard.dataLoadingErrorTitle",defaultMessage:"Error loading profile data"},logoutButtonCaption:{id:"components.Dashboard.logoutButtonCaption",defaultMessage:"Log out"},newslettersStatusIndicatorLabel:{id:"components.Dashboard.newslettersStatusIndicatorLabel",defaultMessage:"Newsletters"},biographyBlockTitle:{id:"components.Dashboard.biographyBlockTitle",defaultMessage:"Short biography"},birthdate:{id:"components.Dashboard.birthdate",defaultMessage:"{birthdate, date, medium} ({age, plural, offset: 1 =0 {infant} other {{age, number} years old}})"}})),Xt=Object(c.d)(function(e){var t=e.intl.formatMessage,a=e.data,n=e.isPending,i=e.externalError;return r.a.createElement("div",{id:"Dashboard"},n?r.a.createElement(Qt,{caption:t(Kt.dataLoadingSpinnerMsg)}):i?r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{sm:8,xl:6,className:"mx-auto"},r.a.createElement(y,{title:t(Kt.dataLoadingErrorTitle),errorMsg:i})))):a?r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"photo proportional proportional-square"},r.a.createElement("div",{className:"proportional-inner rounded-circle"},r.a.createElement("img",{src:a.photo}))),r.a.createElement(Jt,{caption:t(Kt.logoutButtonCaption)})),r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"infoblock"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,a.firstname," ",a.lastname),r.a.createElement(f.a,null,t(Kt.birthdate,{birthdate:a.birthdate,age:a.age}))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.phone)),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.email),r.a.createElement("div",null,r.a.createElement(K.a,{id:"email",type:"switch",defaultChecked:a.newsletters,disabled:!0,label:t(Kt.newslettersStatusIndicatorLabel)}))))),a.biography?r.a.createElement(p.a,{lg:4},r.a.createElement(g.a,{className:"biography infoblock"},r.a.createElement(E.a,null,t(Kt.biographyBlockTitle)),r.a.createElement(f.a,null,a.biography))):null))):null)});function ea(e){return e.birthdate=new Date(e.birthdate),e.age=function(e){var t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(e.birthdate),e}var ta=Object(s.b)(function(e){var t=e.userProfile,a=t.data,n=t.isPending,r=t.externalError;return a&&(a=ea(a)),{data:a,isPending:n,externalError:r}})(Xt),aa=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}},function(e){return{updateReduxAuthState:function(t){e(x(t))}}})(function(e){var t=e.isAuthenticated,a=e.token;e.updateReduxAuthStatem;return Object(n.useEffect)(function(){t&&a?localStorage.setItem("jwt",a):localStorage.removeItem("jwt")},[t,a]),null}),na=(a(185),function(e){var t=e.title,a=e.switchTo,n=e.onClick;return r.a.createElement("div",{id:"LocaleSwitcher"},r.a.createElement(S.a,{type:"text",value:a,onClick:n},t))}),ra="SWITCH_LOCALE_REQUEST",ia="SWITCH_LOCALE_RESPONSE",oa="SWITCH_LOCALE_FAILURE",sa="SWITCH_LOCALE_RESET",la=function(e){return{type:ra,localeId:e}},ca=function(e){return{type:ia,data:e}},ua=function(e){return{type:oa,error:e}},da=function(){return{type:sa}},ma=Object(s.b)(function(e){var t=e.i18n.locale;return{title:"en"===t?"\u041d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c":"Switch to English",switchTo:"en"===t?"ru":"en"}},function(e){return{onClick:function(t){return e(la(t.target.value))}}})(na),pa=(a(186),Object(c.c)({localeSwitchErrorTitle:{id:"components.App.localeSwitchErrorTitle",defaultMessage:"Couldn't switch locale"}})),ga=function(e){var t=e.intl,a=e.isAuthenticated,n=e.isLocaleSwitchPending,i=e.localeSwitchError;return r.a.createElement("div",{id:"app"},r.a.createElement(aa,null),n?r.a.createElement(Qt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"localeSwitchWrapper"},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,null,i?r.a.createElement(y,{title:t.formatMessage(pa.localeSwitchErrorTitle),errorMsg:i}):r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ma,null)))))),r.a.createElement(u.d,null,r.a.createElement(ha,{exact:!0,path:"/login/",isAuthenticated:a}),r.a.createElement(u.b,{exact:!0,path:"/signup/",component:$t}),r.a.createElement(Ea,{exact:!0,path:"/dashboard/",component:ta,isAuthenticated:a,redirectTo:"/login"}),r.a.createElement(fa,{isAuthenticated:a}))))},Ea=function(e){var t=e.component,a=e.exact,n=e.path,i=e.isAuthenticated,o=e.redirectTo,s=i?function(){return r.a.createElement(t,null)}:function(){return r.a.createElement(u.a,{to:o})};return r.a.createElement(u.b,{exact:a,path:n,render:s})},fa=function(e){var t=e.isAuthenticated?function(){return r.a.createElement(u.a,{to:"/dashboard"})}:function(){return r.a.createElement(u.a,{to:"/login"})};return r.a.createElement(u.b,{exact:!0,path:"/",render:t})},ha=function(e){var t=e.isAuthenticated,a=e.exact,n=e.path,i=t?function(){return r.a.createElement(u.a,{to:"/dashboard"})}:function(){return r.a.createElement(H,null)};return r.a.createElement(u.b,{exact:a,path:n,render:i})},va=Object(c.d)(Object(u.g)(function(e){var t=e.isAuthenticated,a=e.isLocaleSwitchPending,i=e.localeSwitchError,o=e.fetchUserProfile,s=e.logicMiddleware,l=e.appContext,c=e.intl,u=e.history,d=e.resetUI;return Object(n.useEffect)(function(){s.addDeps({appContext:l}),l.intl=c},[l,c,s]),Object(n.useEffect)(function(){t&&o()},[t,o]),Object(n.useEffect)(function(){return u.listen(function(e,t){d()})},[u,d]),r.a.createElement(ga,{isAuthenticated:t,isLocaleSwitchPending:a,localeSwitchError:i,intl:c})})),ba="DATA_FETCH_REQUEST",Oa="DATA_FETCH_RESPONSE",_a="DATA_FETCH_FAILURE",Sa="UI_RESET",Ta=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isLocaleSwitchPending:e.i18n.isPending,localeSwitchError:e.i18n.error}},function(e){return{fetchUserProfile:function(){e({type:ba})},resetUI:function(){e({type:Sa})}}})(va);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pa=a(252),Ma=a(48),ya=a(251),Na=a(25),wa=a.n(Na),La=[Object(ya.a)({type:F,processOptions:{successType:x,failType:function(e){return{type:R,error:e}}},process:function(){var e=Object(dt.a)(ut.a.mark(function e(t){var a,n,r;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,n=t.appContext.intl,e.next=3,ft(1e3);case 3:return e.prev=3,e.next=6,wa()({url:"/api/auth",params:a.data});case 6:return r=e.sent,e.abrupt("return",r.data.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",Promise.reject(vt(e.t0,n)));case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}()})],Aa=[Object(ya.a)({type:ra,validate:function(e,t,a){var n=e.action;if("en"===n.localeId)return Et.a.set("locale","en"),localStorage.removeItem("locale"),a(ca({locale:"en"}));var r=bt(n.localeId);if(r)return Et.a.set("locale",n.localeId),a(ca({locale:n.localeId,messages:r}));t(n)},processOptions:{successType:ca,failType:ua},process:function(){var e=Object(dt.a)(ut.a.mark(function e(t){var a,n,r,i,o;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,n=t.appContext.intl,e.next=3,ft(1e3);case 3:return e.prev=3,e.next=6,wa()({url:"/api/get-locale",params:{id:a.localeId}});case 6:return r=e.sent,i=r.data.data,o=JSON.stringify(i),localStorage.setItem("locale",o),e.abrupt("return",Promise.resolve(i));case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",Promise.reject(vt(e.t0,n)));case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()})],Fa={REQUEST_APPROVAL:"REQUEST_APPROVAL",RESPONSE_APPROVAL:"RESPONSE_APPROVAL",RESPONSE_APPROVAL_ERROR:"RESPONSE_APPROVAL_ERROR"};var Ia=Object(ya.a)({type:Y,validate:function(e,t,a){var n=e.getState,r=e.action,i=e.ctx,o=r.fieldName;if(!["username","email","phone"].some(function(e){return e===o}))return a(r);var s=n().signup.data[o],l=s.validityStatus,c=s.value;if(l===te){var u=function(e){return{requestApproval:function(){return{type:Fa.REQUEST_APPROVAL,fieldName:e}},responseApproval:function(t){return{type:Fa.RESPONSE_APPROVAL,fieldName:e,response:t}},responseApprovalError:function(t){return{type:Fa.RESPONSE_APPROVAL_ERROR,fieldName:e,externalError:t}}}}(o),d=u.requestApproval,m=u.responseApproval,p=u.responseApprovalError;Object.assign(i,{requestApproval:d,responseApproval:m,responseApprovalError:p,fieldName:o,value:c}),t(r)}else a(r)},process:function(){var e=Object(dt.a)(ut.a.mark(function e(t,a,n){var r,i,o,s,l;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,i=t.appContext.intl,a(r.requestApproval()),o={url:"/api/check-uniqueness",params:{name:r.fieldName,value:r.value}},e.next=5,ft(1e3);case 5:return e.prev=5,e.next=8,wa()(o);case 8:s=e.sent,a(r.responseApproval(s.data)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),l=vt(e.t0,i),a(r.responseApprovalError(l));case 16:n();case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,a,n){return e.apply(this,arguments)}}()}),Ra=[Object(ya.a)({type:Y,validate:function(e,t,a){var n=e.getState,r=e.action;if("passwordConfirmation"===r.fieldName){var i=(n().signup.data.passwordConfirmation||{}).value;i&&i.length&&t(r)}a(r)},process:function(e){var t=e.getState,a=(e.action,t()),n=a.signup.data.password,r=n.validityStatus,i=n.value,o=a.signup.data.passwordConfirmation||{},s=o.validityStatus,l=o.value;return r===te&&s===te?function(e){return{type:"PASSWORDS_CHECKED",areEqual:e}}(i===l):{type:"E_PASSWORD_NOT_VALID"}}}),Object(ya.a)({type:U,validate:function(e,t,a){e.getState;var n=e.action;"password"===n.fieldName?t(n):a(n)},process:function(e,t,a){e.getState,e.action;t((0,z("passwordConfirmation").onChange)("",he)),a()}})];function Ca(e){var t=new FormData;["username","email","phone","newsletters","birthdate","biography","firstname","lastname"].every(function(a){return t.set(a,e[a].value),!0}),t.set("password",Object(k.sha256)(e.password.value));var a=e.photo.value;return a&&t.set("photo",a),t}var ja=[Object(ya.a)({type:Yt,processOptions:{successType:function(e){return{type:Gt,response:e.data}},failType:function(e){return{type:Wt,externalError:e}}},process:function(){var e=Object(dt.a)(ut.a.mark(function e(t){var a,n,r;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,n=t.appContext.intl,r=Ca(a().signup.data),e.next=4,ft(1e3);case 4:return e.abrupt("return",wa()({method:"post",url:"/api/put-user-profile",data:r,headers:{"Content-Type":"multipart/form-data"},timeout:3e4}).catch(function(e){return Promise.reject(vt(e,n))}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),Ia].concat(Object(Ma.a)(Ra)),xa=Object(c.c)({notAuthorizedException:{id:"components.App.notAuthorizedException",defaultMessage:"Not authorized. Probably due to an application error. Try logging in again"}}),Da=[Object(ya.a)({type:ba,process:function(){var e=Object(dt.a)(ut.a.mark(function e(t,a,n){var r,i,o,s;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action,r=t.getState,i=t.appContext.intl,o=r().auth.token){e.next=4;break}return e.abrupt("return",Promise.reject(i.formatMessage(xa.notAuthorizedException)));case 4:return e.next=6,ft(3e3);case 6:return e.prev=6,e.next=9,wa()({url:"/api/get-user-profile",headers:{Authorization:"Bearer ".concat(o)}});case 9:s=e.sent,a((c=s.data.data,{type:Oa,data:c})),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(6),a((l=vt(e.t0,i),{type:_a,error:l})),e.next=18,ft(3e3);case 18:a(D());case 19:n();case 20:case"end":return e.stop()}var l,c},e,null,[[6,13]])}));return function(t,a,n){return e.apply(this,arguments)}}()}),Object(ya.a)({type:Sa,process:function(e,t,a){t({type:j}),t({type:zt}),t(da()),a()}})],ka=[].concat(Object(Ma.a)(La),Object(Ma.a)(Aa),Object(Ma.a)(ja),Object(Ma.a)(Da)),Ha=Object(Pa.a)(ka);Ha.monitor$.subscribe(function(e){return console.log(e)});var Va=Ha,Ba=a(28),Ua={locale:"en",messages:null,isPending:null},Ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!!localStorage.getItem("jwt"),token:localStorage.getItem("jwt")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{isPending:!0};case I:return{isPending:!1,isAuthenticated:!0,token:t.token};case R:return{isPending:!1,isAuthenticated:void 0,externalError:t.error,token:void 0};case C:return{isPending:!1,isAuthenticated:!1};case j:return Object(pt.a)({},e,{externalError:t.error});default:return e}},Ga=a(109),Wa=a(56),za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(pt.a)({},e,Object(Wa.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fa.REQUEST_APPROVAL:return Object(pt.a)({},e,{isPending:!0});case Fa.RESPONSE_APPROVAL:return Object(pt.a)({},e,{isPending:!1,isApproved:"APPROVED"===t.response.status});case Fa.RESPONSE_APPROVAL_ERROR:return Object(pt.a)({},e,{isPending:!1,isApproved:void 0,externalError:t.externalError});default:return e}}(e[t.fieldName],t))):e},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(pt.a)({},e,Object(Wa.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(pt.a)({},e,{isTypingFinished:!1,value:t.value,validityStatus:t.validityStatus,isApproved:void 0,externalError:""});case Y:return Object(pt.a)({},e,{isTypingFinished:!0});default:return e}}(e[t.fieldName],t))):e},$a=a(91),Qa=Object(Ga.a)(Object(Ba.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(pt.a)({},e,{isPending:!0,externalError:void 0});case Gt:return Object(pt.a)({},e,{isPending:!1,isRegistered:"SUCCESS"===t.response.status});case Wt:return Object(pt.a)({},e,{isPending:!1,isRegistered:void 0,externalError:t.externalError});case Y:var a="lastname password passwordConfirmation email phone birthdate biography".split(" ");return Object(pt.a)({},e,{externalError:void 0,currentAwaitingKeyField:function(e){var n=a.indexOf(t.fieldName);return~n?n<a.indexOf(e)?e:n>=a.length-1?t.fieldName:a[n+1]:e}(e.currentAwaitingKeyField),step:a.reduce(function(e,a,n){return e>n?e:a===t.fieldName?n+1:e},e.step)});default:return e}},data:Object(Ga.a)(za,qa,function(e,t){switch(t.type){case"PASSWORDS_CHECKED":return Object(pt.a)({},e,{passwordConfirmation:Object(pt.a)({},e.passwordConfirmation,{isValid:t.areEqual,validityStatus:t.areEqual?te:be})});case"E_PASSWORD_NOT_VALID":return Object(pt.a)({},e,{passwordConfirmation:Object(pt.a)({},e.passwordConfirmation,{isValid:void 0,validityStatus:ve})});default:return e}})}),function(e,t){switch(t.type){case zt:return $a.signup;default:return e}}),Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPending:!1,data:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ba:return{isPending:!0,data:void 0};case Oa:return{isPending:!1,data:t.data};case _a:return{isPending:!1,externalError:t.error,data:void 0};default:return e}},Ja=Object(Ba.c)({i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ra:return Object(pt.a)({},e,{isPending:!0});case ia:return Object(pt.a)({},t.data,{isPending:!1});case oa:case sa:return Object(pt.a)({},e,{isPending:!1,error:t.error});default:return e}},auth:Ya,signup:Qa,userProfile:Za}),Ka=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ba.d;var Xa=Object(s.b)(function(e){var t=e.i18n;return Object(pt.a)({},t,{key:t.locale})})(c.a),en=a(140),tn=a.n(en);Object(c.b)(tn.a);var an,nn,rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Et.a.get("locale")||"en",a=bt(t);return Et.a.set("locale",t),e.i18n=Object(pt.a)({},e.i18n,{locale:t,messages:a}),e}($a),on=(an=rn,nn=Va,nn=Object(Ba.a)(nn),nn=Ka(nn),Object(Ba.e)(Ja,an,nn));o.a.render(r.a.createElement(s.a,{store:on},r.a.createElement(Xa,null,r.a.createElement(l.a,null,r.a.createElement(Ta,{logicMiddleware:Va,appContext:{}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e){e.exports={signup:{status:{step:0,currentAwaitingKeyField:"lastname"},data:{firstname:{value:""},lastname:{value:""},username:{value:""},email:{value:""},newsletters:{value:!1,validityStatus:"PROPER_VALUE"},phone:{value:""},password:{value:""},passwordConfirmation:{value:""},birthdate:{value:""},biography:{value:"",validityStatus:"PROPER_VALUE"},"personal-information-processing":{value:!0,validityStatus:"PROPER_VALUE"},photo:{value:"",validityStatus:"PROPER_VALUE"}}}}}},[[141,1,2]]]);
//# sourceMappingURL=main.6f035713.chunk.js.map