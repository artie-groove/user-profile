(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t){},141:function(e,t,a){e.exports=a(230)},142:function(e,t,a){},158:function(e,t){},164:function(e,t){},165:function(e,t,a){},166:function(e,t,a){},175:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);a(142);var n=a(0),r=a.n(n),i=a(54),o=a.n(i),s=a(12),l=a(34),c=a(4),u=a(29),d=a(238),m=a(239),p=a(240),g=a(241),E=a(242),f=a(243),h=a(244),v=a(245),b=a(246),O=a(247),_=a(248),S=a(236),T=a(237),P=(a(165),function(e){var t=e.disabled,a=e.className,n=e.isPending,i=e.inProgressCaption,o=e.caption;return r.a.createElement(S.a,{type:"submit",disabled:t,size:"lg",color:"primary",className:"btn-submit "+a},n?r.a.createElement(r.a.Fragment,null,i,r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement(T.a,{size:"lg",color:"light",type:"grow"}))):o)}),y=a(253),M=(a(166),function(e){var t=e.title,a=e.errorMsg;return r.a.createElement(y.a,{color:"danger",className:"error-display"},r.a.createElement("h6",{className:"alert-heading"},t),r.a.createElement("p",{className:"mb-0"},a))}),N=a(55),w=a.n(N),L=(a(175),Object(c.c)({formTitle:{id:"components.LoginForm.formTitle",defaultMessage:"Log in"},formHint:{id:"components.LoginForm.formHint",defaultMessage:"Please, enter your user name and password to get access to your profile"},usernameLabel:{id:"components.LoginForm.usernameLabel",defaultMessage:"Username"},passwordLabel:{id:"components.LoginForm.passwordLabel",defaultMessage:"Password"},submitButtonCaption:{id:"components.LoginForm.submitButtonCaption",defaultMessage:"Log in"},submitButtonInProgressCaption:{id:"components.LoginForm.submitButtonInProgressCaption",defaultMessage:"Sending"},authErrorTitle:{id:"components.LoginForm.authErrorTitle",defaultMessage:"Authentication error"},msgNoAccountQuestion:{id:"components.LoginForm.msgNoAccountQuestion",defaultMessage:"No account?"},signupLinkCaption:{id:"components.LoginForm.signupLinkCaption",defaultMessage:"Register"}})),A=Object(c.d)(function(e){var t=e.intl.formatMessage,a=e.isPending,n=(e.isAuthenticated,e.externalError),i=e.onSubmit,o=e.onChange;return r.a.createElement("div",{id:"LoginForm"},r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,{className:"align-items-center"},r.a.createElement(p.a,{className:"mx-auto"},r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(L.formTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0"},t(L.formHint)),r.a.createElement(h.a,{onSubmit:i},r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:"username"},t(L.usernameLabel)),r.a.createElement(O.a,{type:"text",name:"username",id:"username",onChange:o,defaultValue:"linus-torvalds"})),r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:"password"},t(L.passwordLabel)),r.a.createElement(O.a,{type:"password",name:"password",id:"password",onChange:o,defaultValue:"linus-torvalds"})),r.a.createElement(P,{caption:t(L.submitButtonCaption),inProgressCaption:t(L.submitButtonInProgressCaption),disabled:a,isPending:a,className:"d-block w-100 mt-4"}),n?r.a.createElement(M,{title:t(L.authErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3"},t(L.msgNoAccountQuestion)," ",r.a.createElement(l.b,{to:"/signup/"},t(L.signupLinkCaption))))))))))}),F="AUTH_REQUEST",I="AUTH_RESPONSE",R="AUTH_FAILURE",C="AUTH_LOGOUT",j="AUTH_RESET",x=function(e){return{type:I,token:e}},D=a(83),k=Object(s.b)(function(e){return{isPending:e.auth.isPending,isAuthenticated:e.auth.isAuthenticated,externalError:e.auth.externalError}},function(e){return{onSubmit:function(t){t.preventDefault();var a=t.target,n={username:a.elements.username.value,password:Object(D.sha256)(a.elements.password.value)};e({type:F,data:n})}}})(A),V=(a(178),a(1)),H=a.n(V),B="VALUE_CHANGED",U="FIELD_EDITED",Y=function(e,t,a){return{type:B,fieldName:e,value:t,validityStatus:a}},G=function(e){return{type:U,fieldName:e}};function W(e){return{onChange:function(t,a){return Y(e,t,a)},onBlur:function(){return G(e)}}}var z=a(249),q=function(e){var t=e.fieldName,a=e.value,n=e.label,i=e.inputType,o=e.isInvalid,s=e.errorMsg,l=e.isDisabled,c=e.isValid,u=e.validMsg,d=e.children,m=e.InputComponent,p=e.onChange,g=e.onBlur;return r.a.createElement(v.a,null,r.a.createElement(m,{type:i,name:t,id:t,label:n,value:a,valid:c,invalid:o,disabled:l,onChange:p,onBlur:g},r.a.createElement(z.a,{valid:!0},u),r.a.createElement(z.a,{valid:!1},r.a.createElement("div",null,s)),d))};q.propTypes={fieldName:H.a.string.isRequired,label:H.a.string.isRequired,inputType:H.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]),isInvalid:H.a.bool,error:H.a.string,isValid:H.a.bool,validMsg:H.a.string,onChange:H.a.func,onBlur:H.a.func};var $=q,Q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!(!e||e===ee)&&(!!t||!a.some(function(t){return t===e}))}(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])?e.formatMessage(a[t]):""};function Z(e){var t=function(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++)a[t[n]]=t[n];return a}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return function(a){var n=e(a,t);return!0===n?ee:n}}var J=a(250),K=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,o=e.valid,s=e.invalid,l=e.disabled,c=e.onChange,u=e.onBlur,d=e.children;return r.a.createElement("div",null,r.a.createElement(b.a,{htmlFor:a},n),r.a.createElement(O.a,{type:t,name:a,id:a,value:i,valid:o,invalid:s,disabled:l,onChange:c,onBlur:u}),d)},X=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,o=e.valid,s=e.invalid,l=e.disabled,c=e.onChange,u=e.children;return r.a.createElement(J.a,{type:t,name:a,id:a,label:n,checked:i,valid:o,invalid:s,disabled:l,onChange:c},u)},ee="PROPER_VALUE",te=function(e){var t,a=e.fieldName,n=e.inputType,i=e.errorStrings,o=e.inProgressFilter,l=e.validMsg,u=e.validate,d=void 0===u?function(){return!0}:u,m=W(a),p=m.onChange,g=m.onBlur,E=Z(d,i),f=Object(s.b)(function(e,t){var n=e.signup.data[a],r=n.validityStatus,s=n.isTypingFinished,l=n.value,c=t.errorMsg?t.errorMsg:Q(t.intl,r,i,s,o);return{isInvalid:!!c,errorMsg:c,value:l}},function(e){return{onChange:function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=E(n);e(p(n,r))},onBlur:function(){return e(g())}}})($);switch(f.propTypes={fieldName:H.a.string.isRequired,inputType:H.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]).isRequired},n){case"checkbox":case"switch":t=X;break;default:t=K}return Object(c.d)(function(e){e.isDisabled;var i=e.isInvalid,o=void 0!==i&&i,s=e.isValid,c=void 0!==s&&s,u=e.errorMsg,d=e.children,m=e.label,p=e.intl,g=l?p.formatMessage(l):null;return r.a.createElement(f,{fieldName:a,inputType:n,label:m,isInvalid:o,errorMsg:u,isValid:c,validMsg:g,InputComponent:t,intl:p},d)})},ae=function(e){var t=e.isInvalid,a=e.isPending,n=e.isApproved,i=e.label,o=e.errorMsg,s=e.InputComponent;return r.a.createElement(s,{isDisabled:a,isInvalid:t,isValid:n,errorMsg:o,label:i},a?r.a.createElement(T.a,{size:"sm",color:"primary"}):null)};ae.propTypes={isInvalid:H.a.bool,isPending:H.a.bool,isValid:H.a.oneOfType([H.a.bool,H.a.instanceOf("undefined")]),errorMsg:H.a.string};var ne=ae,re=function(e){var t=e.fieldName,a=e.inputType,n=e.approvedMsg,i=e.rejectedMsg,o=(e.children,e.externalError,e.errorStrings),l=e.inProgressFilter,u=e.validate,d=Object(s.b)(function(e,a){var n=e.signup.data[t]||{},r=n.externalError,o=n.isTypingFinished,s=n.isPending,l=n.isApproved,c="";return r?c=r:o&&!1===l&&(c=a.intl.formatMessage(i)),{isInvalid:!!c,errorMsg:c,isPending:s,isApproved:l&&o}})(ne);d=Object(c.d)(d);var m=te({fieldName:t,inputType:a,validMsg:n,validate:u,errorStrings:o,inProgressFilter:l});return function(e){var t=e.label;return r.a.createElement(d,{InputComponent:m,label:t})}};var ie="E_EMPTY",oe="E_LAST_SYMBOL",se="E_TOO_SHORT",le=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Username.E_EMPTY",defaultMessage:"This field is required. Please, come up with a username"},E_FIRST_LETTER:{id:"components.SignupForm.Username.E_FIRST_LETTER",defaultMessage:"Username should begin with a lowercase latin character"},E_LAST_SYMBOL:{id:"components.SignupForm.Username.E_LAST_SYMBOL",defaultMessage:"Name should end in a letter or a digit"},E_INVALID_FORMAT:{id:"components.SignupForm.Username.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_SHORT:{id:"components.SignupForm.Username.E_TOO_SHORT",defaultMessage:"Name should be at least 5 characters long"},E_TOO_LONG:{id:"components.SignupForm.Username.E_TOO_LONG",defaultMessage:"Name shouldn't be longer than 30 characters"}}),ce=Object(c.c)({rejected:{id:"components.SignupForm.Username.rejected",defaultMessage:"Unfortunately, this name has already been taken. Please, come up with another one"},approved:{id:"components.SignupForm.Username.approved",defaultMessage:"Great, this is a suitable name!"}}),ue=re({fieldName:"username",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>30)return t.E_TOO_LONG;var a=/^[a-z]$/.test(e.charAt(0));return a?(a=/^[-a-z0-9]+$/.test(e))?e.length<5?t.E_TOO_SHORT:!!(a=/^[a-z0-9]$/.test(e.charAt(e.length-1)))||t.E_LAST_SYMBOL:t.E_INVALID_FORMAT:t.E_FIRST_LETTER},resultStrings:ce,errorStrings:le,inProgressFilter:[ie,se,oe],rejectedMsg:ce.rejected,approvedMsg:ce.approved});var de="E_EMPTY",me="E_INSUFFICIENT",pe="E_TOO_SHORT",ge=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Password.E_EMPTY",defaultMessage:"This is a requried field. Please, enter a password"},E_INVALID_FORMAT:{id:"components.SignupForm.Password.E_INVALID_FORMAT",defaultMessage:"The password contains illegal symbols. Please, adhere to the specified format"},E_INSUFFICIENT:{id:"components.SignupForm.Password.E_INSUFFICIENT",defaultMessage:"Please, use at least 2 symbol groups: letters, digits or special characters"},E_TOO_SHORT:{id:"components.SignupForm.Password.E_TOO_SHORT",defaultMessage:"Password should be at least 8 symbols long"},E_TOO_LONG:{id:"components.SignupForm.Password.E_TOO_LONG",defaultMessage:"Password should be less that 128 symbols long. Please, use a shorter password"}}),Ee=te({fieldName:"password",inputType:"password",validate:function(e,t){if(0===e.length)return t.E_EMPTY;if(e.length>128)return t.E_TOO_LONG;var a="(?:".concat("[a-zA-Z]","?").concat("[0-9]","?").concat("","?)+");return new RegExp(a),/^(?:[a-zA-Z]|[0-9]|[-_,.'><=+&%$#@!* )(~\]\/\\{}])+$/.test(e)?/[a-zA-Z]/.test(e)+/[0-9]/.test(e)+/[-_,.'><=+&%$#@!* )(~\]\/\\{}]/.test(e)<2?t.E_INSUFFICIENT:!(e.length<8)||t.E_TOO_SHORT:t.E_INVALID_FORMAT},errorStrings:ge,inProgressFilter:[de,pe,me]});var fe="E_EMPTY",he="E_PASSWORD_NOT_VALID",ve="E_PASSWORDS_MISMATCH",be=Object(c.c)({E_EMPTY:{id:"components.SignupForm.PasswordConfirmation.E_EMPTY",defaultMessage:"This field is required. Please, confirm the above entered password"},E_PASSWORDS_MISMATCH:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORDS_MISMATCH",defaultMessage:"Passwords don't match"},E_PASSWORD_NOT_VALID:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORD_NOT_VALID",defaultMessage:"Please, make sure both passwords follow the specified format"}}),Oe=Object(c.c)({valid:{id:"components.SignupForm.PasswordConfirmation.valid",defaultMessage:"Passwords match"}}),_e=te({fieldName:"passwordConfirmation",inputType:"password",validMsg:Oe.valid,validate:function(e,t){return 0!==e.length||t.E_EMPTY},errorStrings:be,inProgressFilter:[fe]}),Se=Object(s.b)(function(e,t){var a=e.signup.data.passwordConfirmation,n=a.isValid,r=a.isTypingFinished;return{isValid:n&&r}})(_e);var Te="E_EMPTY",Pe="E_INVALID_FORMAT",ye=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Email.E_EMPTY",defaultMessage:"This field is required. Please, enter your email"},E_TOO_LONG:{id:"components.SignupForm.Email.E_TOO_LONG",defaultMessage:"We don't accept emails longer than 128 symbols. PLease, use a shorter address"},E_INVALID_FORMAT:{id:"components.SignupForm.Email.E_INVALID_FORMAT",defaultMessage:"Email doesn't comply with the format. Please, make sure you typed the address correctly"}}),Me=Object(c.c)({rejected:{id:"components.SignupForm.Email.rejected",defaultMessage:"The address has already been taken by somebody. Please, use another one"},approved:{id:"components.SignupForm.Email.approved",defaultMessage:"This email address is fine!"}}),Ne=re({fieldName:"email",inputType:"email",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?t.E_EMPTY:e.length>128?t.E_TOO_LONG:!!/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)||t.E_INVALID_FORMAT},errorStrings:ye,inProgressFilter:[Te,Pe],rejectedMsg:Me.rejected,approvedMsg:Me.approved});var we="E_EMPTY",Le="E_INVALID_FORMAT",Ae="E_TOO_SHORT",Fe=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Phone.E_EMPTY",defaultMessage:"This field is required. Please, enter your phone number"},E_FIRST_SYMBOL:{id:"components.SignupForm.Phone.E_FIRST_SYMBOL",defaultMessage:"The first character should be a plus symbol (+)"},E_TOO_SHORT:{id:"components.SignupForm.Phone.E_TOO_SHORT",defaultMessage:"Phone number should be more than 10 characters long. Please, make sure you entered it correctly"},E_TOO_LONG:{id:"components.SignupForm.Phone.E_TOO_LONG",defaultMessage:"The phone number is too long. Please, use a shorter number"},E_INVALID_CHARS:{id:"components.SignupForm.Phone.E_INVALID_CHARS",defaultMessage:"Phone number can only contain digits, spaces or hyphens and a plus sign. Please, check for typos"},E_INVALID_FORMAT:{id:"components.SignupForm.Phone.E_INVALID_FORMAT",defaultMessage:"The phone number doesn't comply with the format. Please, check if you typed it correctly"}}),Ie=Object(c.c)({rejected:{id:"components.SignupForm.Phone.rejected",defaultMessage:"This phone number has already been in use. Please, choose another one"},approved:{id:"components.SignupForm.Phone.approved",defaultMessage:"This phone number will work!"}}),Re=re({fieldName:"phone",inputType:"tel",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>20)return t.E_TOO_LONG;var a=/^\+/.test(e.charAt(0));return a?(a=/^[-+ 0-9]+$/.test(e))?(a=/^\+[0-9]{1,3}(?:(?:[- ][0-9]{2,4}){3,4}|[- ]?[0-9]{5,10})$/.test(e))?!(e.length<10)||t.E_TOO_SHORT:t.E_INVALID_FORMAT:t.E_INVALID_CHARS:t.E_FIRST_SYMBOL},errorStrings:Fe,inProgressFilter:[we,Ae,Le],rejectedMsg:Ie.rejected,approvedMsg:Ie.approved});var Ce="E_EMPTY",je="E_TOO_OLD",xe="E_TOO_EARLY",De="E_INVALID_FORMAT",ke=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Birthdate.E_EMPTY",defaultMessage:"This field is required. Please, enter your date of birth"},E_TOO_OLD:{id:"components.SignupForm.Birthdate.E_TOO_OLD",defaultMessage:"We accept that a human can live longer than 150 years. If that's your case, please contact us via phone or email. We will consider your application in exceptional order"},E_TOO_EARLY:{id:"components.SignupForm.Birthdate.E_TOO_EARLY",defaultMessage:"Only dates from the past are accepted"},E_INVALID_FORMAT:{id:"components.SignupForm.Birthdate.E_INVALID_FORMAT",defaultMessage:"Wrong data format. Please, make sure you enter the date in YYYY-MM-DD format"}}),Ve=te({fieldName:"birthdate",inputType:"date",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(!/^[0-9]{4}-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])$/.test(e))return t.E_INVALID_FORMAT;var a=Date.parse(e);if(isNaN(a))return t.E_INVALID_FORMAT;var n=Date.now();return a>n?t.E_TOO_EARLY:!(n-a>47304e8)||t.E_TOO_OLD},errorStrings:ke,inProgressFilter:[Ce,je,xe,De]}),He=te({fieldName:"newsletters",inputType:"switch"});var Be=Object(c.c)({E_TOO_LONG:{id:"components.SignupForm.Biography.E_TOO_LONG",defaultMessage:"Please, shorten your biography to 4000 symbols"}}),Ue=te({fieldName:"biography",inputType:"textarea",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(e&&e.length>4e3)||t.E_TOO_LONG},errorStrings:Be});var Ye=Object(c.c)({E_IMPOSED:{id:"components.SignupForm.PersonalInformationProcessing.E_IMPOSED",defaultMessage:"Consent to personal information processing is required to sign up to our serivce"}}),Ge=te({fieldName:"personal-information-processing",inputType:"checkbox",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e||t.E_IMPOSED},errorStrings:Ye}),We=(a(179),function(e){var t=e.fieldName,a=e.fileName,n=e.label,i=e.invalid,o=e.errorMsg,s=e.isDisabled,l=e.valid,c=e.validMsg,u=e.children,d=e.onChange;return r.a.createElement(v.a,null,r.a.createElement(b.a,{htmlFor:t},n),r.a.createElement(J.a,{type:"file",name:t,id:t,label:a,valid:l,invalid:i,disabled:s,onChange:d}),r.a.createElement(O.a,{type:"hidden",valid:l,invalid:i}),r.a.createElement(z.a,{valid:!0},c),r.a.createElement(z.a,{valid:!1},r.a.createElement("div",null,o)),u)}),ze=Object(c.c)({E_NOT_SELECTED:{id:"components.SignupForm.Photo.E_NOT_SELECTED",defaultMessage:"Please, choose a photo for your profile"},E_WRONG_EXTENTION:{id:"components.SignupForm.Photo.E_WRONG_EXTENTION",defaultMessage:"We only support files of JPG and PNG formats"},E_TOO_BIG:{id:"components.SignupForm.Photo.E_TOO_BIG",defaultMessage:"File size shouldn't exceed 5 MB"}}),qe=function(e){e.fieldName,e.fieldLabel;var t=e.isInvalid,a=e.errorMsg,n=e.isDisabled,i=e.isValid,o=e.validMsg,s=e.fileName,l=e.label,c=e.onChange;return r.a.createElement(We,{fieldName:"photo",label:l,fileName:s,invalid:t,errorMsg:a,isDisabled:n,valid:i,validMsg:o,onChange:c})};var $e=Object(c.c)({photoPickerButtonCaption:{id:"components.SignupForm.Photo.photoPickerButtonCaption",defaultMessage:"Pick a photo"}}),Qe=Z(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t.E_NOT_SELECTED;var a=e.name.split(".").pop().toLowerCase();return["jpg","png"].some(function(e){return e===a})?!(e.size>5242880)||t.E_TOO_BIG:t.E_WRONG_EXTENTION},ze),Ze=Object(s.b)(function(e,t){var a=e.signup.data.photo,n=a.validityStatus,r=a.value.name||t.intl.formatMessage($e.photoPickerButtonCaption),i=t.errorMsg?t.errorMsg:Q(t.intl,n,ze);return{isInvalid:!!i,errorMsg:i,fileName:r}},function(e){return{onChange:function(t){var a=t.target.files[0];if(!a)return!1;var n=Qe(a);e(Y("photo",a,n))}}})(qe),Je=Object(c.d)(Ze);var Ke=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Firstname.E_EMPTY",defaultMessage:"This field is required. Please, enter your name"},E_FIRST_LETTER:{id:"components.SignupForm.Firstname.E_FIRST_LETTER",defaultMessage:"Name should begin with a captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Firstname.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_LONG:{id:"components.SignupForm.Firstname.E_TOO_LONG",defaultMessage:"Name shouldn't exceed 40 characters"}}),Xe=te({fieldName:"firstname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>40)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?!!(a=/^.[a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_FIRST_LETTER},errorStrings:Ke,inProgressFilter:["E_EMPTY"]});var et="E_EMPTY",tt="E_LAST_SYMBOL",at="E_WRONG_ENDING",nt=Object(c.c)({E_EMPTY:{id:"components.SignupForm.Lastname.E_EMPTY",defaultMessage:"This field is required. Please, enter your family name"},E_FIRST_LETTER:{id:"components.SignupForm.Lastname.E_FIRST_LETTER",defaultMessage:"Family name should start with captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Lastname.E_INVALID_FORMAT",defaultMessage:"The family name doesn't follow the format. Please, use only letters and a hyphen"},E_TOO_LONG:{id:"components.SignupForm.Lastname.E_TOO_LONG",defaultMessage:"Family name shouldn't exceed 50 characters"},E_LAST_SYMBOL:{id:"components.SignupForm.Lastname.E_LAST_SYMBOL",defaultMessage:"Family name should end in lowercase letter"},E_WRONG_ENDING:{id:"components.SignupForm.Lastname.E_WRONG_ENDING",defaultMessage:"Minimum 2 letters after a hyphen"}}),rt=te({fieldName:"lastname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>50)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?(a=/^[a-z\u0430-\u044f\u0451]$/.test(e.charAt(e.length-1)))?(a=/-[a-z\u0430-\u044f\u0451]$/.test(e))?t.E_WRONG_ENDING:!!(a=/^[A-Z\u0410-\u042f\u0401][-a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_LAST_SYMBOL:t.E_FIRST_LETTER},errorStrings:nt,inProgressFilter:[et,tt,at]}),it=function(e){return e.every(function(e){return!1!==e.isApproved})},ot=function(e){var t,a=e.signup.data;return[(t=Object.values(a),t.every(function(e){return e.validityStatus===ee})),it(Object.values(a)),a.password.value===a.passwordConfirmation.value].every(function(e){return e})},st=Object(s.b)(function(e){return{disabled:!ot(e)||e.signup.status.isPending,isPending:e.signup.status.isPending}})(P),lt=a(10),ct=a.n(lt),ut=a(15),dt=(a(181),function(e){var t=e.onClick,a=e.caption;return r.a.createElement("div",{id:"FormDemo"},r.a.createElement("a",{onClick:t},a),r.a.createElement("div",{className:"arrow-wrapper"},r.a.createElement("div",{className:"arrow"},r.a.createElement("div",{className:"pointer"}))))}),mt=a(11),pt=a(60),gt=a.n(pt);function Et(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}var ft=Object(c.c)({serverConnectionError:{id:"serverConnectionError",defaultMessage:"Couldn't connect to server: \"{errorMsg}\". Please, try again later. If you can't submit the form, please contact us. We bring our apologies for the inconvenience."},somethingWentWrong:{id:"somethingWentWrong",defaultMessage:"Something went wrong. Probably, due to a server fault or connection problems. Please, try again later. If you can't submit the form, please contact us. We bring our apologies for the inconvenience"}});function ht(e,t){var a;if(e.response){console.log(t);var n=e.response.data.details||t.formatMessage(ft.somethingWentWrong);a="".concat(n,". ").concat(e.response.status," ").concat(e.response.statusText)}else a=e.request?t.formatMessage(ft.serverConnectionError,{errorMsg:e.message}):e.message;return a}function vt(e){var t=localStorage.getItem("locale");if(!t)return null;var a=JSON.parse(t),n=a.locale,r=a.messages;return n!==e?null:r}function bt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(ut.a)(ct.a.mark(function e(t,a){var n;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=ct.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.next=5,jt(n,t[n],a);case 5:return e.next=7,Et(a*yt);case 7:e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _t=new Event("input",{bubbles:!0}),St=new Event("blur",{bubbles:!0}),Tt=new Event("focus",{bubbles:!1}),Pt=2,yt=10;function Mt(e,t){e.value=t}function Nt(e,t,a){return wt.apply(this,arguments)}function wt(){return(wt=Object(ut.a)(ct.a.mark(function e(t,a,n){return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ft(Mt,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lt(e,t,a){return At.apply(this,arguments)}function At(){return(At=Object(ut.a)(ct.a.mark(function e(t,a,n){return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ft(Dt,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ft(e,t,a,n){return It.apply(this,arguments)}function It(){return(It=Object(ut.a)(ct.a.mark(function e(t,a,n,r){var i;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<n.length)){e.next=9;break}return t(a,n.slice(0,i+1)),a.dispatchEvent(_t),e.next=6,Et(r);case 6:i++,e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rt(e){e.click()}function Ct(e,t){Dt(e,t),e.dispatchEvent(_t)}function jt(e,t,a){return xt.apply(this,arguments)}function xt(){return(xt=Object(ut.a)(ct.a.mark(function e(t,a,n){var r,i;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=document.getElementById(t),i=null,e.t0=a.type,e.next="click"===e.t0?5:"instant"===e.t0?8:"textarea"===e.t0?11:14;break;case 5:return i=Rt,a=null,e.abrupt("break",15);case 8:return i=Ct,a=a.value,e.abrupt("break",15);case 11:return i=Nt,a=a.value,e.abrupt("break",15);case 14:i=Lt;case 15:return r.dispatchEvent(Tt),r.focus(),e.next=19,Et(1e3);case 19:return e.next=21,i(r,a,n);case 21:return e.next=23,Et(n*Pt);case 23:r.dispatchEvent(St);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dt(e,t){var a=Object.getOwnPropertyDescriptor(e,"value").set,n=Object.getPrototypeOf(e),r=Object.getOwnPropertyDescriptor(n,"value").set;a&&a!==r?r.call(e,t):a.call(e,t)}var kt=function(e){var t=e.caption,a=function(){var e=Object(ut.a)(ct.a.mark(function e(){var t;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={firstname:"Linus",lastname:"Torvalds",username:"linus-torvalds",password:"linus-torvalds",passwordConfirmation:"linus-torvalds",email:"torvalds@linux.org",newsletters:{type:"click"},phone:"+1 702-355-88-92",birthdate:{type:"instant",value:"1969-12-28"},biography:{type:"textarea",value:"That's interesting, how did you manage to make it do that?"}},e.next=4,bt(t,100);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(dt,{onClick:a,caption:t})},Vt=Object(c.c)({signupFormTitle:{id:"components.SignupForm.signupFormTitle",defaultMessage:"Sign Up"},signupFormHint:{id:"components.SignupForm.signupFormHint",defaultMessage:"You need to provide some personal information. Please, fill in the form below"},firstNameLabel:{id:"components.SignupForm.firstNameLabel",defaultMessage:"Given name"},lastNameLabel:{id:"components.SignupForm.lastNameLabel",defaultMessage:"Family name"},userIdLabel:{id:"components.SignupForm.userIdLabel",defaultMessage:"Username"},userIdHint:{id:"components.SignupForm.userIdHint",defaultMessage:"User identifier. Has to be composed of lowercase latin letters and/or digits. \u041dyphen is allowed. Should start with a letter and end with a letter or a digit. Minimim - 5 symbols. For example, 'giant-66'"},passwordLabel:{id:"components.SignupForm.passwordLabel",defaultMessage:"Password"},passwordHint:{id:"components.SignupForm.passwordHint",defaultMessage:"Only latin letters, digits and special characters (for example, :, ', >, <, =, +, ., &, %, $, #, @, !, *, ), (, -, ~, [, ], /, \\\\, \\{, \\}, _, ^). Minimum 8 characters. At least two character types should be used"},passwordConfirmationLabel:{id:"components.SignupForm.passwordConfirmationLabel",defaultMessage:"Password confirmation"},passwordConfirmationHint:{id:"components.SignupForm.passwordConfirmationHint",defaultMessage:"Please, confirm the above entered password"},emailLabel:{id:"components.SignupForm.emailLabel",defaultMessage:"Email"},emailHint:{id:"components.SignupForm.emailHint",defaultMessage:"We use the email for password restoration and critical notifications. No unnecessary newsletters"},newslettersLabel:{id:"components.SignupForm.newslettersLabel",defaultMessage:"Newsletters"},newslettersHint:{id:"components.SignupForm.newslettersHint",defaultMessage:"Switch on if you want to keep up with us"},phoneLabel:{id:"components.SignupForm.phoneLabel",defaultMessage:"Phone number"},phoneHint:{id:"components.SignupForm.phoneHint",defaultMessage:"Phone number in the following format: <country code> <number>, for example, +7 926-840-55-49. Minimum 5 characters"},birthdateLabel:{id:"components.SignupForm.birthdateLabel",defaultMessage:"Birthdate"},birthdateHint:{id:"components.SignupForm.birthdateHint",defaultMessage:"Please, choose the date from the popup calendar"},biographyLabel:{id:"components.SignupForm.biographyLabel",defaultMessage:"Short biography"},photoLabel:{id:"components.SignupForm.photoLabel",defaultMessage:"Photo"},photoHint:{id:"components.SignupForm.photoHint",defaultMessage:"PNG and JPEG files only. Maximum size - 5 MB"},personalInformationProcessingLabel:{id:"components.SignupForm.personalInformationProcessingLabel",defaultMessage:"I give my consent to process my personal data"},personalInformationProcessingHint:{id:"components.SignupForm.personalInformationProcessingHint",defaultMessage:"According to Russia's federal law from 27/07/2006 number 152-FZ 'On personal data'"},submitButtonCaption:{id:"components.SignupForm.submitButtonCaption",defaultMessage:"Sign up"},submitButtonInProgressCaption:{id:"components.SignupForm.submitButtonInProgressCaption",defaultMessage:"Sending"},signupErrorTitle:{id:"components.SignupForm.signupErrorTitle",defaultMessage:"Sign up error"},alreadySignedUp:{id:"components.SignupForm.alreadySignedUp",defaultMessage:"Already signed up?"},loginLinkCaption:{id:"components.SignupForm.loginLinkCaption",defaultMessage:"Log in"},signupSuccessTitle:{id:"components.SignupForm.signupSuccessTitle",defaultMessage:"Signed up successfully!"},signupSuccessMessage:{id:"components.SignupForm.signupSuccessMessage",defaultMessage:"You're registered. Please, log in to your account"},btnDemoCaption:{id:"components.SignupForm.btnDemoCaption",defaultMessage:"Demo"}}),Ht=function(e){var t=e.intl.formatMessage,a=e.onSubmit,n=(e.isPending,e.externalError),i=e.isRegistered,o=(e.onPopulateValidClick,e.onPopulateInvalidClick,e.steps),s=e.onFocus;return r.a.createElement("div",{id:"SignupForm"},r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{className:"mx-auto"},i?r.a.createElement(m.a,null,r.a.createElement(p.a,{md:8,lg:6,xl:5,className:"mx-auto"},r.a.createElement(y.a,{color:"primary",className:"p-5"},r.a.createElement("h4",{className:"alert-heading"},t(Vt.signupSuccessTitle)),r.a.createElement("p",null,t(Vt.signupSuccessMessage)),r.a.createElement(l.b,{to:"/",className:"btn btn-lg btn-primary w-100"},t(Vt.loginLinkCaption),"\t\t\t\t\t\t")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,{caption:t(Vt.btnDemoCaption)}),r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(Vt.signupFormTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0 mb-5"},t(Vt.signupFormHint)),r.a.createElement(h.a,{onSubmit:a},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,className:"mb-5 mb-md-0"},r.a.createElement(Xe,{label:t(Vt.firstNameLabel)})),r.a.createElement(p.a,{md:6,onFocus:s},r.a.createElement(rt,{label:t(Vt.lastNameLabel)}))),r.a.createElement("div",{className:"step "+o[0]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(ue,{label:t(Vt.userIdLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.userIdHint)))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ee,{label:t(Vt.passwordLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.passwordHint))))),r.a.createElement("div",{className:"step "+o[1]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Se,{label:t(Vt.passwordConfirmationLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.passwordConfirmationHint))))),r.a.createElement("div",{className:"step "+o[2]},r.a.createElement(m.a,{id:"field-email"},r.a.createElement(p.a,{md:6},r.a.createElement(Ne,{label:t(Vt.emailLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.emailHint)))),r.a.createElement(m.a,{id:"field-newsletters"},r.a.createElement(p.a,{md:6},r.a.createElement(He,{label:t(Vt.newslettersLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.newslettersHint)," ")))),r.a.createElement("div",{className:"step "+o[3]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Re,{label:t(Vt.phoneLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.phoneHint))))),r.a.createElement("div",{className:"step "+o[4]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ve,{label:t(Vt.birthdateLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.birthdateHint))))),r.a.createElement("div",{className:"step "+o[5]},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(Ue,{label:t(Vt.biographyLabel)})))),r.a.createElement("div",{className:"step "+o[6]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Je,{label:t(Vt.photoLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.photoHint)," "))),r.a.createElement(m.a,{id:"field-personal-information-processing"},r.a.createElement(p.a,{md:6},r.a.createElement(Ge,{label:t(Vt.personalInformationProcessingLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Vt.personalInformationProcessingHint)))),r.a.createElement("div",{id:"SubmitButton"},r.a.createElement(st,{isPending:!0,caption:t(Vt.submitButtonCaption),inProgressCaption:t(Vt.submitButtonInProgressCaption),className:"d-block w-100"}))),r.a.createElement("div",{className:"step "+o.showProceedButton},r.a.createElement("div",{className:"proceedBtn"},"\u2193")),n?r.a.createElement(M,{title:t(Vt.signupErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3 float-right"},t(Vt.alreadySignedUp)," ",r.a.createElement(l.b,{to:"/login/"},t(Vt.loginLinkCaption)))))))))))};Ht.propTypes={intl:c.e.isRequired};var Bt=Object(c.d)(Ht),Ut="FORM_SUBMIT",Yt="FORM_SUBMIT_RESPONSE",Gt="FORM_SUBMIT_FAILURE",Wt="FORM_RESET";function zt(e){for(var t=[],a=0;a<e.status.step;a++)t.push("revealed");var n=e.data[e.status.currentAwaitingKeyField],r="PROPER_VALUE"===n.validityStatus,i=!0===!n.isPending,o=!n.isTypingFinished;return t.showProceedButton=r&&i&&o?"revealed":"",t}var qt=Object(s.b)(function(e){return{isPending:e.signup.status.isPending,isRegistered:e.signup.status.isRegistered,externalError:e.signup.status.externalError,steps:zt(e.signup)}},function(e){return{onSubmit:function(t){t.preventDefault(),e({type:Ut})}}})(Bt),$t=(a(182),function(e){var t=e.caption;return r.a.createElement("div",{id:"FullscreenSpinner"},r.a.createElement(T.a,{size:"lg",color:"primary",type:"grow"}),r.a.createElement("div",{className:"caption w-100 text-center text-primary"},t))}),Qt=(a(183),function(e){var t=e.onLogout,a=e.caption;return r.a.createElement("div",{id:"LogoutButton"},r.a.createElement(S.a,{onClick:t},a))}),Zt=Object(s.b)(null,function(e){return{onLogout:function(){return e({type:C})}}})(Qt),Jt=(a(184),Object(c.c)({dataLoadingSpinnerMsg:{id:"components.Dashboard.dataLoadingSpinnerMsg",defaultMessage:"Loading data..."},dataLoadingErrorTitle:{id:"components.Dashboard.dataLoadingErrorTitle",defaultMessage:"Error loading profile data"},logoutButtonCaption:{id:"components.Dashboard.logoutButtonCaption",defaultMessage:"Log out"},newslettersStatusIndicatorLabel:{id:"components.Dashboard.newslettersStatusIndicatorLabel",defaultMessage:"Newsletters"},biographyBlockTitle:{id:"components.Dashboard.biographyBlockTitle",defaultMessage:"Short biography"},birthdate:{id:"components.Dashboard.birthdate",defaultMessage:"{birthdate, date, medium} ({age, plural, offset: 1 =0 {infant} other {{age, number} years old}})"}})),Kt=Object(c.d)(function(e){var t=e.intl.formatMessage,a=e.data,n=e.isPending,i=e.externalError;return r.a.createElement("div",{id:"Dashboard"},n?r.a.createElement($t,{caption:t(Jt.dataLoadingSpinnerMsg)}):i?r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{sm:8,xl:6,className:"mx-auto"},r.a.createElement(M,{title:t(Jt.dataLoadingErrorTitle),errorMsg:i})))):a?r.a.createElement(w.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"photo proportional proportional-square"},r.a.createElement("div",{className:"proportional-inner rounded-circle"},r.a.createElement("img",{src:a.photo}))),r.a.createElement(Zt,{caption:t(Jt.logoutButtonCaption)})),r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"infoblock"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,a.firstname," ",a.lastname),r.a.createElement(f.a,null,t(Jt.birthdate,{birthdate:a.birthdate,age:a.age}))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.phone)),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.email),r.a.createElement("div",null,r.a.createElement(J.a,{id:"email",type:"switch",defaultChecked:a.newsletters,disabled:!0,label:t(Jt.newslettersStatusIndicatorLabel)}))))),a.biography?r.a.createElement(p.a,{lg:4},r.a.createElement(g.a,{className:"biography infoblock"},r.a.createElement(E.a,null,t(Jt.biographyBlockTitle)),r.a.createElement(f.a,null,a.biography))):null))):null)});function Xt(e){return e.birthdate=new Date(e.birthdate),e.age=function(e){var t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(e.birthdate),e}var ea=Object(s.b)(function(e){var t=e.userProfile,a=t.data,n=t.isPending,r=t.externalError;return a&&(a=Xt(a)),{data:a,isPending:n,externalError:r}})(Kt),ta=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}},function(e){return{updateReduxAuthState:function(t){e(x(t))}}})(function(e){var t=e.isAuthenticated,a=e.token;e.updateReduxAuthStatem;return Object(n.useEffect)(function(){t&&a?localStorage.setItem("jwt",a):localStorage.removeItem("jwt")},[t,a]),null}),aa=(a(185),function(e){var t=e.title,a=e.switchTo,n=e.onClick;return r.a.createElement("div",{id:"LocaleSwitcher"},r.a.createElement(S.a,{type:"text",value:a,onClick:n},t))}),na="SWITCH_LOCALE_REQUEST",ra="SWITCH_LOCALE_RESPONSE",ia="SWITCH_LOCALE_FAILURE",oa="SWITCH_LOCALE_RESET",sa=function(e){return{type:na,localeId:e}},la=function(e){return{type:ra,data:e}},ca=function(e){return{type:ia,error:e}},ua=function(){return{type:oa}},da=Object(s.b)(function(e){var t=e.i18n.locale;return{title:"en"===t?"\u041d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c":"Switch to English",switchTo:"en"===t?"ru":"en"}},function(e){return{onClick:function(t){return e(sa(t.target.value))}}})(aa),ma=(a(186),Object(c.c)({localeSwitchErrorTitle:{id:"components.App.localeSwitchErrorTitle",defaultMessage:"Couldn't switch locale"}})),pa=function(e){var t=e.intl,a=e.isAuthenticated,n=e.isLocaleSwitchPending,i=e.localeSwitchError;return r.a.createElement("div",{id:"app"},r.a.createElement(ta,null),n?r.a.createElement($t,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"localeSwitchWrapper"},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,null,i?r.a.createElement(M,{title:t.formatMessage(ma.localeSwitchErrorTitle),errorMsg:i}):r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(da,null)))))),r.a.createElement(u.d,null,r.a.createElement(fa,{exact:!0,path:"/login/",isAuthenticated:a}),r.a.createElement(u.b,{exact:!0,path:"/signup/",component:qt}),r.a.createElement(ga,{exact:!0,path:"/dashboard/",component:ea,isAuthenticated:a,redirectTo:"/login"}),r.a.createElement(Ea,{isAuthenticated:a}))))},ga=function(e){var t=e.component,a=e.exact,n=e.path,i=e.isAuthenticated,o=e.redirectTo,s=i?function(){return r.a.createElement(t,null)}:function(){return r.a.createElement(u.a,{to:o})};return r.a.createElement(u.b,{exact:a,path:n,render:s})},Ea=function(e){var t=e.isAuthenticated?function(){return r.a.createElement(u.a,{to:"/dashboard"})}:function(){return r.a.createElement(u.a,{to:"/login"})};return r.a.createElement(u.b,{exact:!0,path:"/",render:t})},fa=function(e){var t=e.isAuthenticated,a=e.exact,n=e.path,i=t?function(){return r.a.createElement(u.a,{to:"/dashboard"})}:function(){return r.a.createElement(k,null)};return r.a.createElement(u.b,{exact:a,path:n,render:i})},ha=Object(c.d)(Object(u.g)(function(e){var t=e.isAuthenticated,a=e.isLocaleSwitchPending,i=e.localeSwitchError,o=e.fetchUserProfile,s=e.logicMiddleware,l=e.appContext,c=e.intl,u=e.history,d=e.resetUI;return Object(n.useEffect)(function(){s.addDeps({appContext:l}),l.intl=c},[l,c,s]),Object(n.useEffect)(function(){t&&o()},[t,o]),Object(n.useEffect)(function(){return u.listen(function(e,t){d()})},[u,d]),r.a.createElement(pa,{isAuthenticated:t,isLocaleSwitchPending:a,localeSwitchError:i,intl:c})})),va="DATA_FETCH_REQUEST",ba="DATA_FETCH_RESPONSE",Oa="DATA_FETCH_FAILURE",_a="UI_RESET",Sa=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isLocaleSwitchPending:e.i18n.isPending,localeSwitchError:e.i18n.error}},function(e){return{fetchUserProfile:function(){e({type:va})},resetUI:function(){e({type:_a})}}})(ha);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ta=a(252),Pa=a(48),ya=a(251),Ma=a(25),Na=a.n(Ma),wa=[Object(ya.a)({type:F,processOptions:{successType:x,failType:function(e){return{type:R,error:e}}},process:function(){var e=Object(ut.a)(ct.a.mark(function e(t){var a,n,r;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,n=t.appContext.intl,e.next=3,Et(1e3);case 3:return e.prev=3,e.next=6,Na()({url:"/api/auth",params:a.data});case 6:return r=e.sent,e.abrupt("return",r.data.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",Promise.reject(ht(e.t0,n)));case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}()})],La=[Object(ya.a)({type:na,validate:function(e,t,a){var n=e.action;if("en"===n.localeId)return gt.a.set("locale","en"),localStorage.removeItem("locale"),a(la({locale:"en"}));var r=vt(n.localeId);if(r)return gt.a.set("locale",n.localeId),a(la({locale:n.localeId,messages:r}));t(n)},processOptions:{successType:la,failType:ca},process:function(){var e=Object(ut.a)(ct.a.mark(function e(t){var a,n,r,i,o;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,n=t.appContext.intl,e.next=3,Et(1e3);case 3:return e.prev=3,e.next=6,Na()({url:"/api/get-locale",params:{id:a.localeId}});case 6:return r=e.sent,i=r.data.data,o=JSON.stringify(i),localStorage.setItem("locale",o),e.abrupt("return",Promise.resolve(i));case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",Promise.reject(ht(e.t0,n)));case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()})],Aa={REQUEST_APPROVAL:"REQUEST_APPROVAL",RESPONSE_APPROVAL:"RESPONSE_APPROVAL",RESPONSE_APPROVAL_ERROR:"RESPONSE_APPROVAL_ERROR"};var Fa=Object(ya.a)({type:U,validate:function(e,t,a){var n=e.getState,r=e.action,i=e.ctx,o=r.fieldName;if(!["username","email","phone"].some(function(e){return e===o}))return a(r);var s=n().signup.data[o],l=s.validityStatus,c=s.value;if(l===ee){var u=function(e){return{requestApproval:function(){return{type:Aa.REQUEST_APPROVAL,fieldName:e}},responseApproval:function(t){return{type:Aa.RESPONSE_APPROVAL,fieldName:e,response:t}},responseApprovalError:function(t){return{type:Aa.RESPONSE_APPROVAL_ERROR,fieldName:e,externalError:t}}}}(o),d=u.requestApproval,m=u.responseApproval,p=u.responseApprovalError;Object.assign(i,{requestApproval:d,responseApproval:m,responseApprovalError:p,fieldName:o,value:c}),t(r)}else a(r)},process:function(){var e=Object(ut.a)(ct.a.mark(function e(t,a,n){var r,i,o,s,l;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ctx,i=t.appContext.intl,a(r.requestApproval()),o={url:"/api/check-uniqueness",params:{name:r.fieldName,value:r.value}},e.next=5,Et(1e3);case 5:return e.prev=5,e.next=8,Na()(o);case 8:s=e.sent,a(r.responseApproval(s.data)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),l=ht(e.t0,i),a(r.responseApprovalError(l));case 16:n();case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,a,n){return e.apply(this,arguments)}}()}),Ia=[Object(ya.a)({type:U,validate:function(e,t,a){var n=e.getState,r=e.action;if("passwordConfirmation"===r.fieldName){var i=(n().signup.data.passwordConfirmation||{}).value;i&&i.length&&t(r)}a(r)},process:function(e){var t=e.getState,a=(e.action,t()),n=a.signup.data.password,r=n.validityStatus,i=n.value,o=a.signup.data.passwordConfirmation||{},s=o.validityStatus,l=o.value;return r===ee&&s===ee?function(e){return{type:"PASSWORDS_CHECKED",areEqual:e}}(i===l):{type:"E_PASSWORD_NOT_VALID"}}}),Object(ya.a)({type:B,validate:function(e,t,a){e.getState;var n=e.action;"password"===n.fieldName?t(n):a(n)},process:function(e,t,a){e.getState,e.action;t((0,W("passwordConfirmation").onChange)("",fe)),a()}})];function Ra(e){var t=new FormData;["username","email","phone","newsletters","birthdate","biography","firstname","lastname"].every(function(a){return t.set(a,e[a].value),!0}),t.set("password",Object(D.sha256)(e.password.value));var a=e.photo.value;return a&&t.set("photo",a),t}var Ca=[Object(ya.a)({type:Ut,processOptions:{successType:function(e){return{type:Yt,response:e.data}},failType:function(e){return{type:Gt,externalError:e}}},process:function(){var e=Object(ut.a)(ct.a.mark(function e(t){var a,n,r;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,n=t.appContext.intl,r=Ra(a().signup.data),e.next=4,Et(1e3);case 4:return e.abrupt("return",Na()({method:"post",url:"/api/put-user-profile",data:r,headers:{"Content-Type":"multipart/form-data"},timeout:3e4}).catch(function(e){return Promise.reject(ht(e,n))}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),Fa].concat(Object(Pa.a)(Ia)),ja=Object(c.c)({notAuthorizedException:{id:"components.App.notAuthorizedException",defaultMessage:"Not authorized. Probably due to an application error. Try logging in again"}}),xa=[Object(ya.a)({type:va,processOptions:{successType:function(e){return{type:ba,data:e}},failType:function(e){return{type:Oa,error:e}}},process:function(){var e=Object(ut.a)(ct.a.mark(function e(t){var a,n,r,i;return ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action,a=t.getState,n=t.appContext.intl,r=a().auth.token){e.next=4;break}return e.abrupt("return",Promise.reject(n.formatMessage(ja.notAuthorizedException)));case 4:return e.next=6,Et(3e3);case 6:return e.prev=6,e.next=9,Na()({url:"/api/get-user-profile",headers:{Authorization:"Bearer ".concat(r)}});case 9:return i=e.sent,e.abrupt("return",Promise.resolve(i.data.data));case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",Promise.reject(ht(e.t0,n)));case 16:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()}),Object(ya.a)({type:_a,process:function(e,t,a){t({type:j}),t({type:Wt}),t(ua()),a()}})],Da=[].concat(Object(Pa.a)(wa),Object(Pa.a)(La),Object(Pa.a)(Ca),Object(Pa.a)(xa)),ka=Object(Ta.a)(Da);ka.monitor$.subscribe(function(e){return console.log(e)});var Va=ka,Ha=a(28),Ba={locale:"en",messages:null,isPending:null},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!!localStorage.getItem("jwt"),token:localStorage.getItem("jwt")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{isPending:!0};case I:return{isPending:!1,isAuthenticated:!0,token:t.token};case R:return{isPending:!1,isAuthenticated:void 0,externalError:t.error,token:void 0};case C:return{isPending:!1,isAuthenticated:!1};case j:return Object(mt.a)({},e,{externalError:t.error});default:return e}},Ya=a(109),Ga=a(56),Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(mt.a)({},e,Object(Ga.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Aa.REQUEST_APPROVAL:return Object(mt.a)({},e,{isPending:!0});case Aa.RESPONSE_APPROVAL:return Object(mt.a)({},e,{isPending:!1,isApproved:"APPROVED"===t.response.status});case Aa.RESPONSE_APPROVAL_ERROR:return Object(mt.a)({},e,{isPending:!1,isApproved:void 0,externalError:t.externalError});default:return e}}(e[t.fieldName],t))):e},za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(mt.a)({},e,Object(Ga.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(mt.a)({},e,{isTypingFinished:!1,value:t.value,validityStatus:t.validityStatus,isApproved:void 0,externalError:""});case U:return Object(mt.a)({},e,{isTypingFinished:!0});default:return e}}(e[t.fieldName],t))):e},qa=a(91),$a=Object(Ya.a)(Object(Ha.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(mt.a)({},e,{isPending:!0,externalError:void 0});case Yt:return Object(mt.a)({},e,{isPending:!1,isRegistered:"SUCCESS"===t.response.status});case Gt:return Object(mt.a)({},e,{isPending:!1,isRegistered:void 0,externalError:t.externalError});case U:var a="lastname password passwordConfirmation email phone birthdate biography".split(" ");return Object(mt.a)({},e,{externalError:void 0,currentAwaitingKeyField:function(e){var n=a.indexOf(t.fieldName);return~n?n<a.indexOf(e)?e:n>=a.length-1?t.fieldName:a[n+1]:e}(e.currentAwaitingKeyField),step:a.reduce(function(e,a,n){return e>n?e:a===t.fieldName?n+1:e},e.step)});default:return e}},data:Object(Ya.a)(Wa,za,function(e,t){switch(t.type){case"PASSWORDS_CHECKED":return Object(mt.a)({},e,{passwordConfirmation:Object(mt.a)({},e.passwordConfirmation,{isValid:t.areEqual,validityStatus:t.areEqual?ee:ve})});case"E_PASSWORD_NOT_VALID":return Object(mt.a)({},e,{passwordConfirmation:Object(mt.a)({},e.passwordConfirmation,{isValid:void 0,validityStatus:he})});default:return e}})}),function(e,t){switch(t.type){case Wt:return qa.signup;default:return e}}),Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPending:!1,data:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case va:return{isPending:!0,data:void 0};case ba:return{isPending:!1,data:t.data};case Oa:return{isPending:!1,externalError:t.error,data:void 0};default:return e}},Za=Object(Ha.c)({i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case na:return Object(mt.a)({},e,{isPending:!0});case ra:return Object(mt.a)({},t.data,{isPending:!1});case ia:case oa:return Object(mt.a)({},e,{isPending:!1,error:t.error});default:return e}},auth:Ua,signup:$a,userProfile:Qa}),Ja=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ha.d;var Ka=Object(s.b)(function(e){var t=e.i18n;return Object(mt.a)({},t,{key:t.locale})})(c.a),Xa=a(140),en=a.n(Xa);Object(c.b)(en.a);var tn,an,nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=gt.a.get("locale")||"en",a=vt(t);return gt.a.set("locale",t),e.i18n=Object(mt.a)({},e.i18n,{locale:t,messages:a}),e}(qa),rn=(tn=nn,an=Va,an=Object(Ha.a)(an),an=Ja(an),Object(Ha.e)(Za,tn,an));o.a.render(r.a.createElement(s.a,{store:rn},r.a.createElement(Ka,null,r.a.createElement(l.a,null,r.a.createElement(Sa,{logicMiddleware:Va,appContext:{}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e){e.exports={signup:{status:{step:0,currentAwaitingKeyField:"lastname"},data:{firstname:{value:""},lastname:{value:""},username:{value:""},email:{value:""},newsletters:{value:!1,validityStatus:"PROPER_VALUE"},phone:{value:""},password:{value:""},passwordConfirmation:{value:""},birthdate:{value:""},biography:{value:"",validityStatus:"PROPER_VALUE"},"personal-information-processing":{value:!0,validityStatus:"PROPER_VALUE"},photo:{value:"",validityStatus:"PROPER_VALUE"}}}}}},[[141,1,2]]]);
//# sourceMappingURL=main.6142ea00.chunk.js.map