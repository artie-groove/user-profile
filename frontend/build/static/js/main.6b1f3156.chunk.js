(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t){},140:function(e){e.exports={status:{step:0,currentAwaitingKeyField:"lastname"},data:{firstname:{value:"Linus",validityStatus:"PROPER_VALUE"},lastname:{value:"Torvalds",validityStatus:"PROPER_VALUE"},username:{value:"linus-torvalds",validityStatus:"PROPER_VALUE",isTypingFinished:!0,isApproved:!0},email:{value:"torvalds@linux.org",validityStatus:"PROPER_VALUE",isTypingFinished:!0,isApproved:!0},newsletters:{value:!1,validityStatus:"PROPER_VALUE"},phone:{value:"+1 952-650-40-00",validityStatus:"PROPER_VALUE",isTypingFinished:!0,isApproved:!0},password:{value:"testpass1",validityStatus:"PROPER_VALUE"},passwordConfirmation:{value:"testpass1",validityStatus:"PROPER_VALUE",isTypingFinished:!0,isValid:!0},birthdate:{value:"1969-12-28",validityStatus:"PROPER_VALUE"},biography:{value:"Most good programmers do programming not because they expect to get paid or get adulation by the public, but because it is fun to program.",validityStatus:"PROPER_VALUE"},"personal-information-processing":{value:!0,validityStatus:"PROPER_VALUE"},photo:{value:{},validityStatus:"PROPER_VALUE"}}}},141:function(e){e.exports={status:{step:0,currentAwaitingKeyField:"lastname"},data:{firstname:{value:"mark",isTypingFinished:!0,validityStatus:"E_FIRST_LETTER"},lastname:{value:"Hatchins-n",isTypingFinished:!0,validityStatus:"E_WRONG_ENDING"},username:{value:"jenny",isTypingFinished:!0,validityStatus:"PROPER_VALUE",isApproved:!1,isPending:!1},email:{value:"it's @my email",isTypingFinished:!0,validityStatus:"E_INVALID_FORMAT"},newsletters:{value:!1,validityStatus:"PROPER_VALUE",isTypingFinished:!1},phone:{value:"+84 901-220-31-84",isTypingFinished:!0,validityStatus:"PROPER_VALUE",isApproved:!1,isPending:!1},password:{value:"\u2116\u2116\u2116\u2116\u2116\u2116\u2116",isTypingFinished:!0,validityStatus:"E_INVALID_FORMAT"},passwordConfirmation:{value:"\u2116\u2116\u2116\u2116\u2116\u2116",isTypingFinished:!0,validityStatus:"E_PASSWORD_NOT_VALID"},birthdate:{value:"1800-02-10",isTypingFinished:!0,validityStatus:"E_TOO_OLD"},biography:{value:"The timeless in you is aware of life's timelessness. And knows that yesterday is but today's memory and tomorrow is today's dream.",validityStatus:"PROPER_VALUE",isTypingFinished:!0},"personal-information-processing":{value:!1,validityStatus:"E_IMPOSED",isTypingFinished:!1},photo:{value:{},isTypingFinished:!0,validityStatus:"E_WRONG_EXTENTION"}}}},143:function(e,t,a){e.exports=a(232)},144:function(e,t,a){},160:function(e,t){},166:function(e,t){},167:function(e,t,a){},168:function(e,t,a){},177:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);a(144);var n=a(0),r=a.n(n),i=a(54),s=a.n(i),o=a(12),l=a(4),u=a(43),c=a(34),d=a(240),m=a(241),p=a(242),g=a(243),E=a(244),f=a(245),h=a(246),v=a(247),O=a(248),b=a(249),_=a(250),S=a(238),T=a(239),y=(a(167),function(e){var t=e.disabled,a=e.className,n=e.isPending,i=e.inProgressCaption,s=e.caption;return r.a.createElement(S.a,{type:"submit",disabled:t,size:"lg",color:"primary",className:"btn-submit "+a},n?r.a.createElement(r.a.Fragment,null,i,r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement(T.a,{size:"lg",color:"light",type:"grow"}))):s)}),P=a(255),M=(a(168),function(e){var t=e.title,a=e.errorMsg;return r.a.createElement(P.a,{color:"danger",className:"error-display"},r.a.createElement("h6",{className:"alert-heading"},t),r.a.createElement("p",{className:"mb-0"},a))}),L=a(55),A=a.n(L),F=(a(177),Object(l.c)({formTitle:{id:"components.LoginForm.formTitle",defaultMessage:"Log in"},formHint:{id:"components.LoginForm.formHint",defaultMessage:"Please, enter your user name and password to get access to your profile"},usernameLabel:{id:"components.LoginForm.usernameLabel",defaultMessage:"Username"},passwordLabel:{id:"components.LoginForm.passwordLabel",defaultMessage:"Password"},submitButtonCaption:{id:"components.LoginForm.submitButtonCaption",defaultMessage:"Log in"},submitButtonInProgressCaption:{id:"components.LoginForm.submitButtonInProgressCaption",defaultMessage:"Sending"},authErrorTitle:{id:"components.LoginForm.authErrorTitle",defaultMessage:"Authentication error"},msgNoAccountQuestion:{id:"components.LoginForm.msgNoAccountQuestion",defaultMessage:"No account?"},signupLinkCaption:{id:"components.LoginForm.signupLinkCaption",defaultMessage:"Register"}})),w=Object(l.d)(function(e){var t=e.intl.formatMessage,a=e.isPending,n=(e.isAuthenticated,e.externalError),i=e.onSubmit,s=e.onChange,o=e.signupLinkClick;return r.a.createElement("div",{id:"LoginForm"},r.a.createElement(A.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,{className:"align-items-center"},r.a.createElement(p.a,{className:"mx-auto"},r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(F.formTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0"},t(F.formHint)),r.a.createElement(h.a,{onSubmit:i},r.a.createElement(v.a,null,r.a.createElement(O.a,{htmlFor:"username"},t(F.usernameLabel)),r.a.createElement(b.a,{type:"text",name:"username",id:"username",onChange:s,defaultValue:"linus-torvalds"})),r.a.createElement(v.a,null,r.a.createElement(O.a,{htmlFor:"password"},t(F.passwordLabel)),r.a.createElement(b.a,{type:"password",name:"password",id:"password",onChange:s,defaultValue:"linus-torvalds"})),r.a.createElement(y,{caption:t(F.submitButtonCaption),inProgressCaption:t(F.submitButtonInProgressCaption),disabled:a,isPending:a,className:"d-block w-100 mt-4"}),n?r.a.createElement(M,{title:t(F.authErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3"},t(F.msgNoAccountQuestion)," ",r.a.createElement(u.b,{to:"/signup/",onClick:o},t(F.signupLinkCaption))))))))))}),N="AUTH_REQUEST",R="AUTH_RESPONSE",I="AUTH_FAILURE",j="AUTH_LOGOUT",C=function(e){return{type:R,token:e}},x="SIGNUP_LINK_CLICK",D={FORM_SUBMIT:"FORM_SUBMIT",FORM_SUBMIT_RESPONSE:"FORM_SUBMIT_RESPONSE",FORM_SUBMIT_FAILURE:"FORM_SUBMIT_FAILURE",FORM_RESET:"FORM_RESET"},k=a(84),V=Object(o.b)(function(e){return{isPending:e.auth.isPending,isAuthenticated:e.auth.isAuthenticated,externalError:e.auth.externalError}},function(e){return{onSubmit:function(t){t.preventDefault();var a=t.target,n={username:a.elements.username.value,password:Object(k.sha256)(a.elements.password.value)};e({type:N,data:n})},signupLinkClick:function(){e({type:x}),e({type:D.FORM_RESET})}}})(w),U=(a(180),a(1)),B=a.n(U),H="VALUE_CHANGED",Y="FIELD_EDITED",G=function(e,t,a){return{type:H,fieldName:e,value:t,validityStatus:a}},W=function(e){return{type:Y,fieldName:e}};function z(e){return{onChange:function(t,a){return G(e,t,a)},onBlur:function(){return W(e)}}}var q=a(251),$=function(e){var t=e.fieldName,a=e.value,n=e.label,i=e.inputType,s=e.isInvalid,o=e.errorMsg,l=e.isDisabled,u=e.isValid,c=e.validMsg,d=e.children,m=e.InputComponent,p=e.onChange,g=e.onBlur;return r.a.createElement(v.a,null,r.a.createElement(m,{type:i,name:t,id:t,label:n,value:a,valid:u,invalid:s,disabled:l,onChange:p,onBlur:g},r.a.createElement(q.a,{valid:!0},c),r.a.createElement(q.a,{valid:!1},r.a.createElement("div",null,o)),d))};$.propTypes={fieldName:B.a.string.isRequired,label:B.a.string.isRequired,inputType:B.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]),isInvalid:B.a.bool,error:B.a.string,isValid:B.a.bool,validMsg:B.a.string,onChange:B.a.func,onBlur:B.a.func};var K=$,Q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!(!e||e===pe)&&(!!t||!a.some(function(t){return t===e}))}(t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])?e.formatMessage(a[t]):""};function Z(e){var t=function(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++)a[t[n]]=t[n];return a}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return function(a){var n=e(a,t);return!0===n?pe:n}}var J=a(252),X=a(10),ee=a.n(X),te=a(14),ae=a(11),ne=a(60),re=a.n(ne),ie=Object(l.c)({serverConnectionError:{id:"serverConnectionError",defaultMessage:"Couldn't connect to server: \"{errorMsg}\". Please, try again later. If you can't submit the form, please contact us. We bring our apologies for the inconvenience."}});function se(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}function oe(e,t){var a;return e.response?a="".concat(e.response.data.details,". ").concat(e.response.status," ").concat(e.response.statusText):e.request?(console.log(e.message),a=t.formatMessage(ie.serverConnectionError,{errorMsg:e.message})):a=e.message,a}function le(e){var t=localStorage.getItem("locale");if(!t)return null;var a=JSON.parse(t),n=a.locale,r=a.messages;return n!==e?null:r}function ue(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(te.a)(ee.a.mark(function e(t){var a,n,r,i,s,o;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,n=a.getBoundingClientRect(),r=document.documentElement.clientHeight,i=(r-n.height)/2,s=Math.floor(n.top-i),500,5,100,o=Math.ceil(s/100),setTimeout(function e(t){0!==t&&(window.scrollBy(0,o),setTimeout(e,5,--t))},0,100);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var de=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,s=e.valid,o=e.invalid,l=e.disabled,u=e.onChange,c=e.onBlur,d=e.children;return r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:a},n),r.a.createElement(b.a,{type:t,name:a,id:a,value:i,valid:s,invalid:o,disabled:l,onChange:u,onBlur:c,onFocus:ue}),d)},me=function(e){var t=e.type,a=e.name,n=e.label,i=e.value,s=e.valid,o=e.invalid,l=e.disabled,u=e.onChange,c=e.children;return r.a.createElement(J.a,{type:t,name:a,id:a,label:n,checked:i,valid:s,invalid:o,disabled:l,onChange:u},c)},pe="PROPER_VALUE",ge=function(e){var t,a=e.fieldName,n=e.inputType,i=e.errorStrings,s=e.inProgressFilter,u=e.validMsg,c=e.validate,d=void 0===c?function(){return!0}:c,m=z(a),p=m.onChange,g=m.onBlur,E=Z(d,i),f=Object(o.b)(function(e,t){var n=e.signup.data[a],r=n.validityStatus,o=n.isTypingFinished,l=n.value,u=t.errorMsg?t.errorMsg:Q(t.intl,r,i,o,s);return{isInvalid:!!u,errorMsg:u,value:l}},function(e){return{onChange:function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=E(n);e(p(n,r))},onBlur:function(){return e(g())}}})(K);switch(f.propTypes={fieldName:B.a.string.isRequired,inputType:B.a.oneOf(["text","textarea","email","password","tel","date","checkbox","switch"]).isRequired},n){case"checkbox":case"switch":t=me;break;default:t=de}return Object(l.d)(function(e){e.isDisabled;var i=e.isInvalid,s=void 0!==i&&i,o=e.isValid,l=void 0!==o&&o,c=e.errorMsg,d=e.children,m=e.label,p=e.intl,g=u?p.formatMessage(u):null;return r.a.createElement(f,{fieldName:a,inputType:n,label:m,isInvalid:s,errorMsg:c,isValid:l,validMsg:g,InputComponent:t,intl:p},d)})},Ee=function(e){var t=e.isInvalid,a=e.isPending,n=e.isApproved,i=e.label,s=e.errorMsg,o=e.InputComponent;return r.a.createElement(o,{isDisabled:a,isInvalid:t,isValid:n,errorMsg:s,label:i},a?r.a.createElement(T.a,{size:"sm",color:"primary"}):null)};Ee.propTypes={isInvalid:B.a.bool,isPending:B.a.bool,isValid:B.a.oneOfType([B.a.bool,B.a.instanceOf("undefined")]),errorMsg:B.a.string};var fe=Ee,he=function(e){var t=e.fieldName,a=e.inputType,n=e.approvedMsg,i=e.rejectedMsg,s=(e.children,e.externalError,e.errorStrings),u=e.inProgressFilter,c=e.validate,d=Object(o.b)(function(e,a){var n=e.signup.data[t]||{},r=n.externalError,s=n.isTypingFinished,o=n.isPending,l=n.isApproved,u="";return r?u=r:s&&!1===l&&(u=a.intl.formatMessage(i)),{isInvalid:!!u,errorMsg:u,isPending:o,isApproved:l&&s}})(fe);d=Object(l.d)(d);var m=ge({fieldName:t,inputType:a,validMsg:n,validate:c,errorStrings:s,inProgressFilter:u});return function(e){var t=e.label;return r.a.createElement(d,{InputComponent:m,label:t})}};var ve="E_EMPTY",Oe="E_LAST_SYMBOL",be="E_TOO_SHORT",_e=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Username.E_EMPTY",defaultMessage:"This field is required. Please, come up with a username"},E_FIRST_LETTER:{id:"components.SignupForm.Username.E_FIRST_LETTER",defaultMessage:"Username should begin with a lowercase latin character"},E_LAST_SYMBOL:{id:"components.SignupForm.Username.E_LAST_SYMBOL",defaultMessage:"Name should end in a letter or a digit"},E_INVALID_FORMAT:{id:"components.SignupForm.Username.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_SHORT:{id:"components.SignupForm.Username.E_TOO_SHORT",defaultMessage:"Name should be at least 5 characters long"},E_TOO_LONG:{id:"components.SignupForm.Username.E_TOO_LONG",defaultMessage:"Name shouldn't be longer than 30 characters"}}),Se=Object(l.c)({rejected:{id:"components.SignupForm.Username.rejected",defaultMessage:"Unfortunately, this name has already been taken. Please, come up with another one"},approved:{id:"components.SignupForm.Username.approved",defaultMessage:"Great, this is a suitable name!"}}),Te=he({fieldName:"username",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>30)return t.E_TOO_LONG;var a=/^[a-z]$/.test(e.charAt(0));return a?(a=/^[-a-z0-9]+$/.test(e))?e.length<5?t.E_TOO_SHORT:!!(a=/^[a-z0-9]$/.test(e.charAt(e.length-1)))||t.E_LAST_SYMBOL:t.E_INVALID_FORMAT:t.E_FIRST_LETTER},resultStrings:Se,errorStrings:_e,inProgressFilter:[ve,be,Oe],rejectedMsg:Se.rejected,approvedMsg:Se.approved});var ye="E_EMPTY",Pe="E_INSUFFICIENT",Me="E_TOO_SHORT",Le=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Password.E_EMPTY",defaultMessage:"This is a requried field. Please, enter a password"},E_INVALID_FORMAT:{id:"components.SignupForm.Password.E_INVALID_FORMAT",defaultMessage:"The password contains illegal symbols. Please, adhere to the specified format"},E_INSUFFICIENT:{id:"components.SignupForm.Password.E_INSUFFICIENT",defaultMessage:"Please, use at least 2 symbol groups: letters, digits or special characters"},E_TOO_SHORT:{id:"components.SignupForm.Password.E_TOO_SHORT",defaultMessage:"Password should be at least 8 symbols long"},E_TOO_LONG:{id:"components.SignupForm.Password.E_TOO_LONG",defaultMessage:"Password should be less that 128 symbols long. Please, use a shorter password"}}),Ae=ge({fieldName:"password",inputType:"password",validate:function(e,t){if(0===e.length)return t.E_EMPTY;if(e.length>128)return t.E_TOO_LONG;var a="(?:".concat("[a-zA-Z]","?").concat("[0-9]","?").concat("","?)+");return new RegExp(a),/^(?:[a-zA-Z]|[0-9]|[-_,.'><=+&%$#@!* )(~\]\/\\{}])+$/.test(e)?/[a-zA-Z]/.test(e)+/[0-9]/.test(e)+/[-_,.'><=+&%$#@!* )(~\]\/\\{}]/.test(e)<2?t.E_INSUFFICIENT:!(e.length<8)||t.E_TOO_SHORT:t.E_INVALID_FORMAT},errorStrings:Le,inProgressFilter:[ye,Me,Pe]});var Fe="E_EMPTY",we="E_PASSWORD_NOT_VALID",Ne="E_PASSWORDS_MISMATCH",Re=Object(l.c)({E_EMPTY:{id:"components.SignupForm.PasswordConfirmation.E_EMPTY",defaultMessage:"This field is required. Please, confirm the above entered password"},E_PASSWORDS_MISMATCH:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORDS_MISMATCH",defaultMessage:"Passwords don't match"},E_PASSWORD_NOT_VALID:{id:"components.SignupForm.PasswordConfirmation.E_PASSWORD_NOT_VALID",defaultMessage:"Please, make sure both passwords follow the specified format"}}),Ie=Object(l.c)({valid:{id:"components.SignupForm.PasswordConfirmation.valid",defaultMessage:"Passwords match"}}),je=ge({fieldName:"passwordConfirmation",inputType:"password",validMsg:Ie.valid,validate:function(e,t){return 0!==e.length||t.E_EMPTY},errorStrings:Re,inProgressFilter:[Fe]}),Ce=Object(o.b)(function(e,t){var a=e.signup.data.passwordConfirmation,n=a.isValid,r=a.isTypingFinished;return{isValid:n&&r}})(je);var xe="E_EMPTY",De="E_INVALID_FORMAT",ke=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Email.E_EMPTY",defaultMessage:"This field is required. Please, enter your email"},E_TOO_LONG:{id:"components.SignupForm.Email.E_TOO_LONG",defaultMessage:"We don't accept emails longer than 128 symbols. PLease, use a shorter address"},E_INVALID_FORMAT:{id:"components.SignupForm.Email.E_INVALID_FORMAT",defaultMessage:"Email doesn't comply with the format. Please, make sure you typed the address correctly"}}),Ve=Object(l.c)({rejected:{id:"components.SignupForm.Email.rejected",defaultMessage:"The address has already been taken by somebody. Please, use another one"},approved:{id:"components.SignupForm.Email.approved",defaultMessage:"This email address is fine!"}}),Ue=he({fieldName:"email",inputType:"email",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?t.E_EMPTY:e.length>128?t.E_TOO_LONG:!!/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)||t.E_INVALID_FORMAT},errorStrings:ke,inProgressFilter:[xe,De],rejectedMsg:Ve.rejected,approvedMsg:Ve.approved});var Be="E_EMPTY",He="E_INVALID_FORMAT",Ye="E_TOO_SHORT",Ge=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Phone.E_EMPTY",defaultMessage:"This field is required. Please, enter your phone number"},E_FIRST_SYMBOL:{id:"components.SignupForm.Phone.E_FIRST_SYMBOL",defaultMessage:"The first character should be a plus symbol (+)"},E_TOO_SHORT:{id:"components.SignupForm.Phone.E_TOO_SHORT",defaultMessage:"Phone number should be more than 10 characters long. Please, make sure you entered it correctly"},E_TOO_LONG:{id:"components.SignupForm.Phone.E_TOO_LONG",defaultMessage:"The phone number is too long. Please, use a shorter number"},E_INVALID_CHARS:{id:"components.SignupForm.Phone.E_INVALID_CHARS",defaultMessage:"Phone number can only contain digits, spaces or hyphens and a plus sign. Please, check for typos"},E_INVALID_FORMAT:{id:"components.SignupForm.Phone.E_INVALID_FORMAT",defaultMessage:"The phone number doesn't comply with the format. Please, check if you typed it correctly"}}),We=Object(l.c)({rejected:{id:"components.SignupForm.Phone.rejected",defaultMessage:"This phone number has already been in use. Please, choose another one"},approved:{id:"components.SignupForm.Phone.approved",defaultMessage:"This phone number will work!"}}),ze=he({fieldName:"phone",inputType:"tel",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>30)return t.E_TOO_LONG;var a=/^\+/.test(e.charAt(0));return a?(a=/^[-+ 0-9]+$/.test(e))?(a=/^\+[0-9]{1,3}(?:(?:[- ][0-9]{2,4}){3,4}|[- ]?[0-9]{5,10})$/.test(e))?!(e.length<10)||t.E_TOO_SHORT:t.E_INVALID_FORMAT:t.E_INVALID_CHARS:t.E_FIRST_SYMBOL},errorStrings:Ge,inProgressFilter:[Be,Ye,He],rejectedMsg:We.rejected,approvedMsg:We.approved});var qe="E_EMPTY",$e="E_TOO_OLD",Ke="E_TOO_EARLY",Qe="E_INVALID_FORMAT",Ze=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Birthdate.E_EMPTY",defaultMessage:"This field is required. Please, enter your date of birth"},E_TOO_OLD:{id:"components.SignupForm.Birthdate.E_TOO_OLD",defaultMessage:"We accept that a human can live longer than 150 years. If that's your case, please contact us via phone or email. We will consider your application in exceptional order"},E_TOO_EARLY:{id:"components.SignupForm.Birthdate.E_TOO_EARLY",defaultMessage:"Only dates from the past are accepted"},E_INVALID_FORMAT:{id:"components.SignupForm.Birthdate.E_INVALID_FORMAT",defaultMessage:"Wrong data format. Please, make sure you enter the date in YYYY-MM-DD format"}}),Je=ge({fieldName:"birthdate",inputType:"date",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(!/^[0-9]{4}-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])$/.test(e))return t.E_INVALID_FORMAT;var a=Date.parse(e);if(isNaN(a))return t.E_INVALID_FORMAT;var n=Date.now();return a>n?t.E_TOO_EARLY:!(n-a>47304e8)||t.E_TOO_OLD},errorStrings:Ze,inProgressFilter:[qe,$e,Ke,Qe]}),Xe=ge({fieldName:"newsletters",inputType:"switch"});var et=Object(l.c)({E_TOO_LONG:{id:"components.SignupForm.Biography.E_TOO_LONG",defaultMessage:"Please, shorten your biography to 4000 symbols"}}),tt=ge({fieldName:"biography",inputType:"textarea",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(e&&e.length>4e3)||t.E_TOO_LONG},errorStrings:et});var at=Object(l.c)({E_IMPOSED:{id:"components.SignupForm.PersonalInformationProcessing.E_IMPOSED",defaultMessage:"Consent to personal information processing is required to sign up to our serivce"}}),nt=ge({fieldName:"personal-information-processing",inputType:"checkbox",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e||t.E_IMPOSED},errorStrings:at}),rt=(a(182),function(e){var t=e.fieldName,a=e.fileName,n=e.label,i=e.invalid,s=e.errorMsg,o=e.isDisabled,l=e.valid,u=e.validMsg,c=e.children,d=e.onChange;return r.a.createElement(v.a,null,r.a.createElement(O.a,{htmlFor:t},n),r.a.createElement(J.a,{type:"file",name:t,id:t,label:a,valid:l,invalid:i,disabled:o,onChange:d}),r.a.createElement(b.a,{type:"hidden",valid:l,invalid:i}),r.a.createElement(q.a,{valid:!0},u),r.a.createElement(q.a,{valid:!1},r.a.createElement("div",null,s)),c)}),it=Object(l.c)({E_NOT_SELECTED:{id:"components.SignupForm.Photo.E_NOT_SELECTED",defaultMessage:"Please, choose a photo for your profile"},E_WRONG_EXTENTION:{id:"components.SignupForm.Photo.E_WRONG_EXTENTION",defaultMessage:"We only support files of JPG and PNG formats"},E_TOO_BIG:{id:"components.SignupForm.Photo.E_TOO_BIG",defaultMessage:"File size shouldn't exceed 5 MB"}}),st=function(e){e.fieldName,e.fieldLabel;var t=e.isInvalid,a=e.errorMsg,n=e.isDisabled,i=e.isValid,s=e.validMsg,o=e.fileName,l=e.label,u=e.onChange;return r.a.createElement(rt,{fieldName:"photo",label:l,fileName:o,invalid:t,errorMsg:a,isDisabled:n,valid:i,validMsg:s,onChange:u})};var ot=Object(l.c)({photoPickerButtonCaption:{id:"components.SignupForm.Photo.photoPickerButtonCaption",defaultMessage:"Pick a photo"}}),lt=Z(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t.E_NOT_SELECTED;var a=e.name.split(".").pop().toLowerCase();return["jpg","png"].some(function(e){return e===a})?!(e.size>5242880)||t.E_TOO_BIG:t.E_WRONG_EXTENTION},it),ut=Object(o.b)(function(e,t){var a=e.signup.data.photo,n=a.validityStatus,r=a.value.name||t.intl.formatMessage(ot.photoPickerButtonCaption),i=t.errorMsg?t.errorMsg:Q(t.intl,n,it);return{isInvalid:!!i,errorMsg:i,fileName:r}},function(e){return{onChange:function(t){var a=t.target.files[0];if(!a)return!1;var n=lt(a);e(G("photo",a,n))}}})(st),ct=Object(l.d)(ut);var dt=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Firstname.E_EMPTY",defaultMessage:"This field is required. Please, enter your name"},E_FIRST_LETTER:{id:"components.SignupForm.Firstname.E_FIRST_LETTER",defaultMessage:"Name should begin with a captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Firstname.E_INVALID_FORMAT",defaultMessage:"The name contains illegal characters. Please, adhere to the specified format"},E_TOO_LONG:{id:"components.SignupForm.Firstname.E_TOO_LONG",defaultMessage:"Name shouldn't exceed 40 characters"}}),mt=ge({fieldName:"firstname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>40)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?!!(a=/^.[a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_FIRST_LETTER},errorStrings:dt,inProgressFilter:["E_EMPTY"]});var pt="E_EMPTY",gt="E_LAST_SYMBOL",Et="E_WRONG_ENDING",ft=Object(l.c)({E_EMPTY:{id:"components.SignupForm.Lastname.E_EMPTY",defaultMessage:"This field is required. Please, enter your family name"},E_FIRST_LETTER:{id:"components.SignupForm.Lastname.E_FIRST_LETTER",defaultMessage:"Family name should start with captial letter"},E_INVALID_FORMAT:{id:"components.SignupForm.Lastname.E_INVALID_FORMAT",defaultMessage:"The family name doesn't follow the format. Please, use only letters and a hyphen"},E_TOO_LONG:{id:"components.SignupForm.Lastname.E_TOO_LONG",defaultMessage:"Family name shouldn't exceed 50 characters"},E_LAST_SYMBOL:{id:"components.SignupForm.Lastname.E_LAST_SYMBOL",defaultMessage:"Family name should end in lowercase letter"},E_WRONG_ENDING:{id:"components.SignupForm.Lastname.E_WRONG_ENDING",defaultMessage:"Minimum 2 letters after a hyphen"}}),ht=ge({fieldName:"lastname",inputType:"text",validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.length)return t.E_EMPTY;if(e.length>50)return t.E_TOO_LONG;var a=/^[A-Z\u0410-\u042f\u0401]$/.test(e.charAt(0));return a?(a=/^[a-z\u0430-\u044f\u0451]$/.test(e.charAt(e.length-1)))?(a=/-[a-z\u0430-\u044f\u0451]$/.test(e))?t.E_WRONG_ENDING:!!(a=/^[A-Z\u0410-\u042f\u0401][-a-z\u0430-\u044f\u0451]*$/.test(e))||t.E_INVALID_FORMAT:t.E_LAST_SYMBOL:t.E_FIRST_LETTER},errorStrings:ft,inProgressFilter:[pt,gt,Et]}),vt=function(e){return e.every(function(e){return!1!==e.isApproved})},Ot=function(e){var t,a=e.signup.data;return[(t=Object.values(a),t.every(function(e){return e.validityStatus===pe})),vt(Object.values(a)),a.password.value===a.passwordConfirmation.value].every(function(e){return e})},bt=Object(o.b)(function(e){return{disabled:!Ot(e)||e.signup.status.isPending,isPending:e.signup.status.isPending}})(y),_t=(a(183),function(e){var t=e.onClick,a=e.caption;return r.a.createElement("div",{id:"FormDemo"},r.a.createElement("a",{onClick:t},a),r.a.createElement("div",{className:"arrow-wrapper"},r.a.createElement("div",{className:"arrow"},r.a.createElement("div",{className:"pointer"}))))});function St(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(te.a)(ee.a.mark(function e(t,a){var n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=ee.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.next=5,kt(n,t[n],a);case 5:return e.next=7,se(a*At);case 7:e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var yt=new Event("input",{bubbles:!0}),Pt=new Event("blur",{bubbles:!0}),Mt=new Event("focus",{bubbles:!1}),Lt=2,At=10;function Ft(e,t){e.value=t}function wt(e,t,a){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(te.a)(ee.a.mark(function e(t,a,n){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jt(Ft,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rt(e,t,a){return It.apply(this,arguments)}function It(){return(It=Object(te.a)(ee.a.mark(function e(t,a,n){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jt(Ut,t,a,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jt(e,t,a,n){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(te.a)(ee.a.mark(function e(t,a,n,r){var i;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<n.length)){e.next=9;break}return t(a,n.slice(0,i+1)),a.dispatchEvent(yt),e.next=6,se(r);case 6:i++,e.next=1;break;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xt(e){e.click()}function Dt(e,t){Ut(e,t),e.dispatchEvent(yt)}function kt(e,t,a){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(te.a)(ee.a.mark(function e(t,a,n){var r,i;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=document.getElementById(t),i=null,e.t0=a.type,e.next="click"===e.t0?5:"instant"===e.t0?8:"textarea"===e.t0?11:14;break;case 5:return i=xt,a=null,e.abrupt("break",15);case 8:return i=Dt,a=a.value,e.abrupt("break",15);case 11:return i=wt,a=a.value,e.abrupt("break",15);case 14:i=Rt;case 15:return r.dispatchEvent(Mt),r.focus(),e.next=19,se(1e3);case 19:return e.next=21,i(r,a,n);case 21:return e.next=23,se(n*Lt);case 23:r.dispatchEvent(Pt);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ut(e,t){var a=Object.getOwnPropertyDescriptor(e,"value").set,n=Object.getPrototypeOf(e),r=Object.getOwnPropertyDescriptor(n,"value").set;a&&a!==r?r.call(e,t):a.call(e,t)}var Bt=function(e){var t=e.caption,a=function(){var e=Object(te.a)(ee.a.mark(function e(){var t,a,n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={firstname:"Linus",lastname:"Torvalds",username:"linus-torvalds",password:"linus-torvalds",passwordConfirmation:"linus-torvalds",email:"torvalds@linux.org",newsletters:{type:"click"},phone:"+1 702-355-88-92",birthdate:{type:"instant",value:"1969-12-28"},biography:{type:"textarea",value:"That's interesting, how did you manage to make it do that?"}},e.next=4,St(t,100);case 4:(a=document.getElementById("SubmitButton")).addEventListener("focus",ue),n=new Event("focus"),a.dispatchEvent(n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_t,{onClick:a,caption:t})},Ht=Object(l.c)({signupFormTitle:{id:"components.SignupForm.signupFormTitle",defaultMessage:"Sign Up"},signupFormHint:{id:"components.SignupForm.signupFormHint",defaultMessage:"You need to provide some personal information. Please, fill in the form below"},firstNameLabel:{id:"components.SignupForm.firstNameLabel",defaultMessage:"Given name"},lastNameLabel:{id:"components.SignupForm.lastNameLabel",defaultMessage:"Family name"},userIdLabel:{id:"components.SignupForm.userIdLabel",defaultMessage:"Username"},userIdHint:{id:"components.SignupForm.userIdHint",defaultMessage:"User identifier. Has to be composed of lowercase latin letters and/or digits. \u041dyphen is allowed. Should start with a letter and end with a letter or a digit. Minimim - 5 symbols. For example, 'giant-66'"},passwordLabel:{id:"components.SignupForm.passwordLabel",defaultMessage:"Password"},passwordHint:{id:"components.SignupForm.passwordHint",defaultMessage:"Only latin letters, digits and special characters (for example, :, ', >, <, =, +, ., &, %, $, #, @, !, *, ), (, -, ~, [, ], /, \\\\, \\{, \\}, _, ^). Minimum 8 characters. At least two character types should be used"},passwordConfirmationLabel:{id:"components.SignupForm.passwordConfirmationLabel",defaultMessage:"Password confirmation"},passwordConfirmationHint:{id:"components.SignupForm.passwordConfirmationHint",defaultMessage:"Please, confirm the above entered password"},emailLabel:{id:"components.SignupForm.emailLabel",defaultMessage:"Email"},emailHint:{id:"components.SignupForm.emailHint",defaultMessage:"We use the email for password restoration and critical notifications. No unnecessary newsletters"},newslettersLabel:{id:"components.SignupForm.newslettersLabel",defaultMessage:"Newsletters"},newslettersHint:{id:"components.SignupForm.newslettersHint",defaultMessage:"Switch on if you want to keep up with us"},phoneLabel:{id:"components.SignupForm.phoneLabel",defaultMessage:"Phone number"},phoneHint:{id:"components.SignupForm.phoneHint",defaultMessage:"Phone number in the following format: <country code> <number>, for example, +7 926-840-55-49. Minimum 5 characters"},birthdateLabel:{id:"components.SignupForm.birthdateLabel",defaultMessage:"Birthdate"},birthdateHint:{id:"components.SignupForm.birthdateHint",defaultMessage:"Please, choose the date from the popup calendar"},biographyLabel:{id:"components.SignupForm.biographyLabel",defaultMessage:"Short biography"},photoLabel:{id:"components.SignupForm.photoLabel",defaultMessage:"Photo"},photoHint:{id:"components.SignupForm.photoHint",defaultMessage:"PNG and JPEG files only. Maximum size - 5 MB"},personalInformationProcessingLabel:{id:"components.SignupForm.personalInformationProcessingLabel",defaultMessage:"I give my consent to process my personal data"},personalInformationProcessingHint:{id:"components.SignupForm.personalInformationProcessingHint",defaultMessage:"According to Russia's federal law from 27/07/2006 number 152-FZ 'On personal data'"},submitButtonCaption:{id:"components.SignupForm.submitButtonCaption",defaultMessage:"Sign up"},submitButtonInProgressCaption:{id:"components.SignupForm.submitButtonInProgressCaption",defaultMessage:"Sending"},signupErrorTitle:{id:"components.SignupForm.signupErrorTitle",defaultMessage:"Sign up error"},alreadySignedUp:{id:"components.SignupForm.alreadySignedUp",defaultMessage:"Already signed up?"},loginLinkCaption:{id:"components.SignupForm.loginLinkCaption",defaultMessage:"Log in"},signupSuccessTitle:{id:"components.SignupForm.signupSuccessTitle",defaultMessage:"Signed up successfully!"},signupSuccessMessage:{id:"components.SignupForm.signupSuccessMessage",defaultMessage:"You're registered. Please, log in to your account"},btnDemoCaption:{id:"components.SignupForm.btnDemoCaption",defaultMessage:"Demo"}}),Yt=function(e){var t=e.intl.formatMessage,a=e.onSubmit,n=(e.isPending,e.externalError),i=e.isRegistered,s=(e.onPopulateValidClick,e.onPopulateInvalidClick,e.steps),o=e.onFocus;return r.a.createElement("div",{id:"SignupForm"},r.a.createElement(A.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{className:"mx-auto"},i?r.a.createElement(m.a,null,r.a.createElement(p.a,{md:8,lg:6,xl:5,className:"mx-auto"},r.a.createElement(P.a,{color:"primary",className:"p-5"},r.a.createElement("h4",{className:"alert-heading"},t(Ht.signupSuccessTitle)),r.a.createElement("p",null,t(Ht.signupSuccessMessage)),r.a.createElement(u.b,{to:"/",className:"btn btn-lg btn-primary w-100"},t(Ht.loginLinkCaption),"\t\t\t\t\t\t")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{caption:t(Ht.btnDemoCaption)}),r.a.createElement(g.a,{body:!0},r.a.createElement(E.a,{className:"mb-1"},t(Ht.signupFormTitle)),r.a.createElement(f.a,{className:"d-block text-muted mt-0 mb-5"},t(Ht.signupFormHint)),r.a.createElement(h.a,{onSubmit:a},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,className:"mb-5 mb-md-0"},r.a.createElement(mt,{label:t(Ht.firstNameLabel)})),r.a.createElement(p.a,{md:6,onFocus:o},r.a.createElement(ht,{label:t(Ht.lastNameLabel)}))),r.a.createElement("div",{className:"step "+s[0]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Te,{label:t(Ht.userIdLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.userIdHint)))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ae,{label:t(Ht.passwordLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.passwordHint))))),r.a.createElement("div",{className:"step "+s[1]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Ce,{label:t(Ht.passwordConfirmationLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.passwordConfirmationHint))))),r.a.createElement("div",{className:"step "+s[2]},r.a.createElement(m.a,{id:"field-email"},r.a.createElement(p.a,{md:6},r.a.createElement(Ue,{label:t(Ht.emailLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.emailHint)))),r.a.createElement(m.a,{id:"field-newsletters"},r.a.createElement(p.a,{md:6},r.a.createElement(Xe,{label:t(Ht.newslettersLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.newslettersHint)," ")))),r.a.createElement("div",{className:"step "+s[3]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(ze,{label:t(Ht.phoneLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.phoneHint))))),r.a.createElement("div",{className:"step "+s[4]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(Je,{label:t(Ht.birthdateLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.birthdateHint))))),r.a.createElement("div",{className:"step "+s[5]},r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(tt,{label:t(Ht.biographyLabel)})))),r.a.createElement("div",{className:"step "+s[6]},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6},r.a.createElement(ct,{label:t(Ht.photoLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.photoHint)," "))),r.a.createElement(m.a,{id:"field-personal-information-processing"},r.a.createElement(p.a,{md:6},r.a.createElement(nt,{label:t(Ht.personalInformationProcessingLabel)})),r.a.createElement(p.a,{md:6},r.a.createElement("div",{className:"hint"},t(Ht.personalInformationProcessingHint)))),r.a.createElement("div",{id:"SubmitButton"},r.a.createElement(bt,{isPending:!0,caption:t(Ht.submitButtonCaption),inProgressCaption:t(Ht.submitButtonInProgressCaption),className:"d-block w-100"}))),r.a.createElement("div",{className:"step "+s.showProceedButton},r.a.createElement("div",{className:"proceedBtn"},"\u2193")),n?r.a.createElement(M,{title:t(Ht.signupErrorTitle),errorMsg:n}):null,r.a.createElement(_.a,{className:"mt-3 float-right"},t(Ht.alreadySignedUp)," ",r.a.createElement(u.b,{to:"/login/"},t(Ht.loginLinkCaption)))))))))))};Yt.propTypes={intl:l.e.isRequired};var Gt=Object(l.d)(Yt);function Wt(e){for(var t=[],a=0;a<e.status.step;a++)t.push("revealed");var n=e.data[e.status.currentAwaitingKeyField],r="PROPER_VALUE"===n.validityStatus,i=!0===!n.isPending,s=!n.isTypingFinished;return t.showProceedButton=r&&i&&s?"revealed":"",t}var zt=Object(o.b)(function(e){return{isPending:e.signup.status.isPending,isRegistered:e.signup.status.isRegistered,externalError:e.signup.status.externalError,steps:Wt(e.signup)}},function(e){return{onSubmit:function(t){t.preventDefault(),e({type:D.FORM_SUBMIT})}}})(Gt),qt=(a(184),function(e){var t=e.caption;return r.a.createElement("div",{id:"FullscreenSpinner"},r.a.createElement(T.a,{size:"lg",color:"primary",type:"grow"}),r.a.createElement("div",{className:"caption w-100 text-center text-primary"},t))}),$t=(a(185),function(e){var t=e.onLogout,a=e.caption;return r.a.createElement("div",{id:"LogoutButton"},r.a.createElement(S.a,{onClick:t},a))}),Kt=Object(o.b)(null,function(e){return{onLogout:function(){return e({type:j})}}})($t),Qt=(a(186),Object(l.c)({dataLoadingSpinnerMsg:{id:"components.Dashboard.dataLoadingSpinnerMsg",defaultMessage:"Loading data..."},dataLoadingErrorTitle:{id:"components.Dashboard.dataLoadingErrorTitle",defaultMessage:"Error loading profile data"},logoutButtonCaption:{id:"components.Dashboard.logoutButtonCaption",defaultMessage:"Log out"},newslettersStatusIndicatorLabel:{id:"components.Dashboard.newslettersStatusIndicatorLabel",defaultMessage:"Newsletters"},biographyBlockTitle:{id:"components.Dashboard.biographyBlockTitle",defaultMessage:"Short biography"},birthdate:{id:"components.Dashboard.birthdate",defaultMessage:"{birthdate, date, medium} ({age, plural, offset: 1 =0 {infant} other {{age, number} years old}})"}})),Zt=Object(l.d)(function(e){var t=e.intl.formatMessage,a=e.data,n=e.isPending,i=e.externalError;return r.a.createElement("div",{id:"Dashboard"},n?r.a.createElement(qt,{caption:t(Qt.dataLoadingSpinnerMsg)}):i?r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{sm:8,xl:6,className:"mx-auto"},r.a.createElement(M,{title:t(Qt.dataLoadingErrorTitle),errorMsg:i})))):a?r.a.createElement(A.a,{delay:500},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"photo proportional proportional-square"},r.a.createElement("div",{className:"proportional-inner rounded-circle"},r.a.createElement("img",{src:a.photo}))),r.a.createElement(Kt,{caption:t(Qt.logoutButtonCaption)})),r.a.createElement(p.a,{md:6,lg:4},r.a.createElement("div",{className:"infoblock"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,a.firstname," ",a.lastname),r.a.createElement(f.a,null,t(Qt.birthdate,{birthdate:a.birthdate,age:a.age}))),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.phone)),r.a.createElement(g.a,null,r.a.createElement(f.a,null,a.email),r.a.createElement("div",null,r.a.createElement(J.a,{id:"email",type:"switch",defaultChecked:a.newsletters,disabled:!0,label:t(Qt.newslettersStatusIndicatorLabel)}))))),a.biography?r.a.createElement(p.a,{lg:4},r.a.createElement(g.a,{className:"biography infoblock"},r.a.createElement(E.a,null,t(Qt.biographyBlockTitle)),r.a.createElement(f.a,null,a.biography))):null))):null)});function Jt(e){return e.birthdate=new Date(e.birthdate),e.age=function(e){var t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)}(e.birthdate),e}var Xt=Object(o.b)(function(e){var t=e.userProfile,a=t.data,n=t.isPending,r=t.externalError;return a&&(a=Jt(a)),{data:a,isPending:n,externalError:r}})(Zt),ea=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}},function(e){return{updateReduxAuthState:function(t){e(C(t))}}})(function(e){var t=e.isAuthenticated,a=e.token;e.updateReduxAuthStatem;return Object(n.useEffect)(function(){t&&a?localStorage.setItem("jwt",a):localStorage.removeItem("jwt")},[t,a]),null}),ta=(a(187),function(e){var t=e.title,a=e.switchTo,n=e.onClick;return r.a.createElement("div",{id:"LocaleSwitcher"},r.a.createElement(S.a,{type:"text",value:a,onClick:n},t))}),aa="SWITCH_LOCALE_REQUEST",na="SWITCH_LOCALE_RESPONSE",ra="SWITCH_LOCALE_FAILURE",ia=function(e){return{type:aa,localeId:e}},sa=function(e){return{type:na,data:e}},oa=function(e){return{type:ra,error:e}},la=Object(o.b)(function(e){var t=e.i18n.locale;return{title:"en"===t?"\u041d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c":"Switch to English",switchTo:"en"===t?"ru":"en"}},function(e){return{onClick:function(t){return e(ia(t.target.value))}}})(ta),ua=(a(188),Object(l.c)({localeSwitchErrorTitle:{id:"components.App.localeSwitchErrorTitle",defaultMessage:"Couldn't switch locale"}})),ca=function(e){var t=e.intl,a=e.isAuthenticated,n=e.isLocaleSwitchPending,i=e.localeSwitchError;return r.a.createElement(u.a,null,r.a.createElement(ea,null),n?r.a.createElement(qt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"localeSwitchWrapper"},r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,null,i?r.a.createElement(M,{title:t.formatMessage(ua.localeSwitchErrorTitle),errorMsg:i}):null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(la,null)))))),r.a.createElement(c.d,null,r.a.createElement(pa,{exact:!0,path:"/login/",isAuthenticated:a}),r.a.createElement(c.b,{exact:!0,path:"/signup/",component:zt}),r.a.createElement(da,{exact:!0,path:"/dashboard/",component:Xt,isAuthenticated:a,redirectTo:"/"}),r.a.createElement(ma,{isAuthenticated:a}))))},da=function(e){var t=e.component,a=e.exact,n=e.path,i=e.isAuthenticated,s=e.redirectTo,o=i?function(){return r.a.createElement(t,null)}:function(){return r.a.createElement(c.a,{to:s})};return r.a.createElement(c.b,{exact:a,path:n,render:o})},ma=function(e){var t=e.isAuthenticated?function(){return r.a.createElement(c.a,{to:"/dashboard"})}:function(){return r.a.createElement(c.a,{to:"/login"})};return r.a.createElement(c.b,{exact:!0,path:"/",render:t})},pa=function(e){var t=e.isAuthenticated,a=e.exact,n=e.path,i=t?function(){return r.a.createElement(c.a,{to:"/dashboard"})}:function(){return r.a.createElement(V,null)};return r.a.createElement(c.b,{exact:a,path:n,render:i})},ga=Object(l.d)(function(e){var t=e.isAuthenticated,a=e.isLocaleSwitchPending,i=e.localeSwitchError,s=e.fetchUserProfile,o=e.intl,l=e.logicMiddleware;return Object(n.useEffect)(function(){t&&s()},[t,s]),Object(n.useEffect)(function(){try{l.addDeps({intl:o})}catch(e){}},[o,l]),r.a.createElement(ca,{isAuthenticated:t,isLocaleSwitchPending:a,localeSwitchError:i,intl:o})}),Ea="DATA_FETCH_REQUEST",fa="DATA_FETCH_RESPONSE",ha="DATA_FETCH_FAILURE",va=Object(o.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isLocaleSwitchPending:e.i18n.isPending,localeSwitchError:e.i18n.error}},function(e){return{fetchUserProfile:function(){e({type:Ea})}}})(ga);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oa=a(254),ba=a(48),_a=a(253),Sa=a(25),Ta=a.n(Sa),ya=[Object(_a.a)({type:N,processOptions:{successType:C,failType:function(e){return{type:I,error:e}}},process:function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,n=t.intl,e.next=3,se(1e3);case 3:return e.abrupt("return",Ta()({url:"/api/auth",params:a.data}).then(function(e){return e.data.data}).catch(function(e){return Promise.reject(oe(e,n))}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})],Pa=[Object(_a.a)({type:aa,validate:function(e,t,a){var n=e.action;if("en"===n.localeId)return re.a.set("locale","en"),localStorage.removeItem("locale"),a(sa({locale:"en"}));var r=le(n.localeId);if(r)return re.a.set("locale",n.localeId),a(sa({locale:n.localeId,messages:r}));t(n)},processOptions:{successType:sa,failType:oa},process:function(){var e=Object(te.a)(ee.a.mark(function e(t){var a;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.action,e.next=3,se(1e3);case 3:return e.abrupt("return",Ta()({url:"/api/get-locale",params:{id:a.localeId}}).then(function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data.data,n=JSON.stringify(a),localStorage.setItem("locale",n),e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return Promise.reject(oe(e))}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})],Ma={REQUEST_APPROVAL:"REQUEST_APPROVAL",RESPONSE_APPROVAL:"RESPONSE_APPROVAL",RESPONSE_APPROVAL_ERROR:"RESPONSE_APPROVAL_ERROR"};var La=Object(_a.a)({type:Y,validate:function(e,t,a){var n=e.getState,r=e.action,i=e.ctx,s=r.fieldName;if(!["username","email","phone"].some(function(e){return e===s}))return a(r);var o=n().signup.data[s],l=o.validityStatus,u=o.value;if(l===pe){var c=function(e){return{requestApproval:function(){return{type:Ma.REQUEST_APPROVAL,fieldName:e}},responseApproval:function(t){return{type:Ma.RESPONSE_APPROVAL,fieldName:e,response:t}},responseApprovalError:function(t){return{type:Ma.RESPONSE_APPROVAL_ERROR,fieldName:e,externalError:t}}}}(s),d=c.requestApproval,m=c.responseApproval,p=c.responseApprovalError;Object.assign(i,{requestApproval:d,responseApproval:m,responseApprovalError:p,fieldName:s,value:u}),t(r)}else a(r)},process:function(e,t,a){var n=e.ctx,r=e.intl;t(n.requestApproval());var i={url:"/api/check-uniqueness",params:{name:n.fieldName,value:n.value}};se(1e3).then(function(){return Ta()(i)}).then(function(e){return t(n.responseApproval(e.data))}).catch(function(e){var a=oe(e,r);t(n.responseApprovalError(a))}).then(function(){return a()})}}),Aa=[Object(_a.a)({type:Y,validate:function(e,t,a){var n=e.getState,r=e.action;if("passwordConfirmation"===r.fieldName){var i=(n().signup.data.passwordConfirmation||{}).value;i&&i.length&&t(r)}a(r)},process:function(e){var t=e.getState,a=(e.action,t()),n=a.signup.data.password||{},r=n.validityStatus,i=n.value,s=a.signup.data.passwordConfirmation||{},o=s.validityStatus,l=s.value;return r===pe&&o===pe?function(e){return{type:"PASSWORDS_CHECKED",areEqual:e}}(i===l):{type:"E_PASSWORD_NOT_VALID"}}}),Object(_a.a)({type:H,validate:function(e,t,a){e.getState;var n=e.action;"password"===n.fieldName?t(n):a(n)},process:function(e,t,a){e.getState,e.action;t((0,z("passwordConfirmation").onChange)("",Fe)),a()}})];function Fa(e){var t=new FormData;["username","email","phone","newsletters","birthdate","biography","firstname","lastname"].every(function(a){return t.set(a,e[a].value),!0}),t.set("password",Object(k.sha256)(e.password.value));var a=e.photo.value;return a&&t.append("photo",a),t}var wa=[Object(_a.a)({type:D.FORM_SUBMIT,processOptions:{successType:function(e){return{type:D.FORM_SUBMIT_RESPONSE,response:e.data}},failType:function(e){return{type:D.FORM_SUBMIT_FAILURE,externalError:e}}},process:function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n,r;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,n=t.intl,r=Fa(a().signup.data),e.next=4,se(1e3);case 4:return e.abrupt("return",Ta()({method:"post",url:"/api/put-user-profile",data:r,headers:{"Content-Type":"multipart/form-data"},timeout:3e4}).catch(function(e){return Promise.reject(oe(e,n))}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),La].concat(Object(ba.a)(Aa)),Na=Object(l.c)({notAuthorizedException:{id:"components.App.notAuthorizedException",defaultMessage:"Not authorized. Probably due to an application error. Try logging in again"}}),Ra=[Object(_a.a)({type:Ea,processOptions:{successType:function(e){return{type:fa,data:e}},failType:function(e){return{type:ha,error:e}}},process:function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n,r;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action,a=t.getState,n=t.intl,r=a().auth.token){e.next=4;break}return e.abrupt("return",Promise.reject(n.formatMessage(Na.notAuthorizedException)));case 4:return e.next=6,se(3e3);case 6:return e.abrupt("return",Ta()({url:"/api/get-user-profile",headers:{Authorization:"Bearer ".concat(r)}}).then(function(e){return e.data.data}).catch(function(e){return Promise.reject(oe(e))}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})],Ia=[].concat(Object(ba.a)(ya),Object(ba.a)(Pa),Object(ba.a)(wa),Object(ba.a)(Ra)),ja=Object(Oa.a)(Ia,{});ja.monitor$.subscribe(function(e){return console.log(e)});var Ca=ja,xa=a(28),Da=a(62),ka={locale:"en",messages:null,isPending:null},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthenticated:!!localStorage.getItem("jwt"),token:localStorage.getItem("jwt")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{isPending:!0};case R:return{isPending:!1,isAuthenticated:!0,token:t.token};case I:return{isPending:!1,isAuthenticated:void 0,externalError:t.error,token:void 0};case j:return{isPending:!1,isAuthenticated:!1};default:return e}},Ua=function(e,t){switch(t.type){case x:return Object(ae.a)({},e,{externalError:""});default:return e}},Ba=a(140),Ha=a(141),Ya=a(56),Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(ae.a)({},e,Object(Ya.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.REQUEST_APPROVAL:return Object(ae.a)({},e,{isPending:!0});case Ma.RESPONSE_APPROVAL:return Object(ae.a)({},e,{isPending:!1,isApproved:"APPROVED"===t.response.status});case Ma.RESPONSE_APPROVAL_ERROR:return Object(ae.a)({},e,{isPending:!1,isApproved:void 0,externalError:t.externalError});default:return e}}(e[t.fieldName],t))):e},Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.fieldName?Object(ae.a)({},e,Object(Ya.a)({},t.fieldName,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(ae.a)({},e,{isTypingFinished:!1,value:t.value,validityStatus:t.validityStatus,isApproved:void 0,externalError:""});case Y:return Object(ae.a)({},e,{isTypingFinished:!0});default:return e}}(e[t.fieldName],t))):e},za=a(92),qa=Object(Da.a)(Object(xa.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.FORM_SUBMIT:return Object(ae.a)({},e,{isPending:!0,externalError:void 0});case D.FORM_SUBMIT_RESPONSE:return Object(ae.a)({},e,{isPending:!1,isRegistered:"SUCCESS"===t.response.status});case D.FORM_SUBMIT_FAILURE:return Object(ae.a)({},e,{isPending:!1,isRegistered:void 0,externalError:t.externalError});case Y:var a="lastname password passwordConfirmation email phone birthdate biography".split(" ");return Object(ae.a)({},e,{externalError:void 0,currentAwaitingKeyField:function(e){var n=a.indexOf(t.fieldName);return~n?n<a.indexOf(e)?e:n>=a.length-1?t.fieldName:a[n+1]:e}(e.currentAwaitingKeyField),step:a.reduce(function(e,a,n){return e>n?e:a===t.fieldName?n+1:e},e.step)});default:return e}},data:Object(Da.a)(Ga,Wa,function(e,t){switch(t.type){case"PASSWORDS_CHECKED":return Object(ae.a)({},e,{passwordConfirmation:Object(ae.a)({},e.passwordConfirmation,{isValid:t.areEqual,validityStatus:t.areEqual?pe:Ne})});case"E_PASSWORD_NOT_VALID":return Object(ae.a)({},e,{passwordConfirmation:Object(ae.a)({},e.passwordConfirmation,{isValid:void 0,validityStatus:we})});default:return e}})}),function(e,t){switch(t.type){case D.FORM_RESET:return za.signup;default:return e}}),$a=Object(Da.a)(qa,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case D.FORM_POPULATE_VALID:return Object(ae.a)({},Ba);case D.FORM_POPULATE_INVALID:return Object(ae.a)({},Ha);default:return e}}),Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPending:!1,data:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ea:return{isPending:!0,data:void 0};case fa:return{isPending:!1,data:t.data};case ha:return{isPending:!1,externalError:t.error,data:void 0};default:return e}},Qa=Object(xa.c)({i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aa:return Object(ae.a)({},e,{isPending:!0});case na:return Object(ae.a)({},t.data,{isPending:!1});case ra:return Object(ae.a)({},e,{isPending:!1,error:t.error});default:return e}},auth:Object(Da.a)(Va,Ua),signup:$a,userProfile:Ka}),Za=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xa.d;var Ja=Object(o.b)(function(e){var t=e.i18n;return Object(ae.a)({},t,{key:t.locale})})(l.a),Xa=a(142),en=a.n(Xa);Object(l.b)(en.a);var tn,an,nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=re.a.get("locale")||"en",a=le(t);return re.a.set("locale",t),e.i18n=Object(ae.a)({},e.i18n,{locale:t,messages:a}),e}(za),rn=(tn=nn,an=Ca,an=Object(xa.a)(an),an=Za(an),Object(xa.e)(Qa,tn,an));s.a.render(r.a.createElement(o.a,{store:rn},r.a.createElement(Ja,null,r.a.createElement(va,{logicMiddleware:Ca}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e){e.exports={signup:{status:{step:0,currentAwaitingKeyField:"lastname"},data:{firstname:{value:""},lastname:{value:""},username:{value:""},email:{value:""},newsletters:{value:!1,validityStatus:"PROPER_VALUE"},phone:{value:""},password:{value:""},passwordConfirmation:{value:""},birthdate:{value:""},biography:{value:"",validityStatus:"PROPER_VALUE"},"personal-information-processing":{value:!0,validityStatus:"PROPER_VALUE"},photo:{value:"",validityStatus:"PROPER_VALUE"}}}}}},[[143,1,2]]]);
//# sourceMappingURL=main.6b1f3156.chunk.js.map